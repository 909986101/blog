<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>使用diskpart命令2</title>
      <link href="/blog/2020/09/15/use-diskpart-2/"/>
      <url>/blog/2020/09/15/use-diskpart-2/</url>
      
        <content type="html"><![CDATA[<p>使用 diskpart 命令 2</p><a id="more"></a><h1 id="使用-diskpart-命令-2"><a href="#使用-diskpart-命令-2" class="headerlink" title="使用 diskpart 命令 2"></a>使用 diskpart 命令 2</h1><p>diskpart 命令是 Windows 下的磁盘工具。Windows 系统、PE、Windows 安装盘中的命令行（其实就是 PE）都可以调用该命令。</p><h2 id="进（危）阶（险）命令"><a href="#进（危）阶（险）命令" class="headerlink" title="进（危）阶（险）命令"></a>进（危）阶（险）命令</h2><ol><li><p>clean</p><p>Removes any and all partition or volume formatting from the disk with focus.</p><p>把整个盘清掉，刺不刺激</p><p>示例：disk 0 清盘</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">DISKPART&gt; select disk 0</span><br><span class="line"></span><br><span class="line">Disk 0 is now the selected disk.</span><br><span class="line"></span><br><span class="line">DISKPART&gt; clean</span><br></pre></td></tr></table></figure></li><li><p>CONVERT GPT</p><p>Convert a disk from MBR to GPT.</p><p>没什么好讲的。</p></li><li><p>CREATE</p><p>创建对象（分区、卷或者虚拟磁盘）</p><p>示例：创建一个 200MB 的 ESP 分区</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">DISKPART&gt; select disk 0</span><br><span class="line">DISKPART&gt; create part efi size&#x3D;200</span><br></pre></td></tr></table></figure></li></ol><ol><li><p>DELETE</p><p>Delete an object.</p><p>有创建就会有删除，先移动焦点到对象，再删除。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">DISKPART&gt; select disk 0</span><br><span class="line"></span><br><span class="line">Disk 0 is now the selected disk.</span><br><span class="line"></span><br><span class="line">DISKPART&gt; select partition 1</span><br><span class="line"></span><br><span class="line">Partition 1 is now the selected partition.</span><br><span class="line"></span><br><span class="line">DISKPART&gt; delete</span><br></pre></td></tr></table></figure></li><li><p>FORMAT</p><p>Formats the specified volume for use with Windows.</p><p>示例：格式化 disk 0 的 partition 1，文件格式为 FAT32、卷标为 EFI，使用快速格式化。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">format fs&#x3D;fat32 label&#x3D;&quot;EFI&quot; quick</span><br></pre></td></tr></table></figure></li></ol><h2 id="实战"><a href="#实战" class="headerlink" title="实战"></a>实战</h2><ol><li><p>需求：将 disk 2 转换为 GPT，创建 2 个 ESP 分区并格式化为 FAT32 格式。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">list disk</span><br><span class="line">select disk 2</span><br><span class="line">convert gpt</span><br><span class="line">create partition efi size&#x3D;100</span><br><span class="line">create partition efi size&#x3D;200</span><br><span class="line">select part 1</span><br><span class="line">format fs&#x3D;fat32 label&#x3D;&quot;EFI-1&quot; quick</span><br><span class="line">select part 2</span><br><span class="line">format fs&#x3D;fat32 label&#x3D;&quot;EFI-2&quot; quick</span><br></pre></td></tr></table></figure></li><li><p>需求2：将上面的 partition 1 设置为“基本数据分区”，并分配盘符“S”</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">select disk 2</span><br><span class="line">select partition 1</span><br><span class="line">set id&#x3D;ebd0a0a2-b9e5-4433-87c0-68b6b72699c7</span><br><span class="line">assign letter&#x3D;s</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
            <tag> diskpart </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用diskpart命令</title>
      <link href="/blog/2020/09/14/use-diskpart/"/>
      <url>/blog/2020/09/14/use-diskpart/</url>
      
        <content type="html"><![CDATA[<p>使用 diskpart 命令</p><a id="more"></a><h1 id="使用-diskpart-命令"><a href="#使用-diskpart-命令" class="headerlink" title="使用 diskpart 命令"></a>使用 diskpart 命令</h1><p>diskpart 命令是 Windows 下的磁盘工具。Windows 系统、PE、Windows 安装盘中的命令行（其实就是 PE）都可以调用该命令。</p><h2 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h2><ol><li><p>启动</p><p>命令行中输入 <code>diskpart</code> 并回车，即可进入 <code>diskpart</code> 命令交换界面。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">PS C:\windows\system32&gt; diskpart</span><br><span class="line"></span><br><span class="line">Microsoft DiskPart 版本 10.0.19041.1</span><br><span class="line"></span><br><span class="line">Copyright (C) Microsoft Corporation.</span><br><span class="line">在计算机上: li-PC</span><br><span class="line"></span><br><span class="line">DISKPART&gt;</span><br></pre></td></tr></table></figure></li><li><p>帮助</p><p>在 <code>diskpart</code> 交换界面输入 <code>help</code> 即可获得子命令。</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">DISKPART&gt; help</span><br><span class="line"></span><br><span class="line">Microsoft DiskPart 版本 10.0.19041.1</span><br><span class="line"></span><br><span class="line">ACTIVE      - 将选中的分区标记为活动的分区。</span><br><span class="line">ADD         - 将镜像添加到一个简单卷。</span><br><span class="line">ASSIGN      - 给所选卷分配一个驱动器号或装载点。</span><br><span class="line">ATTRIBUTES  - 操纵卷或磁盘属性。</span><br><span class="line">ATTACH      - 连接虚拟磁盘文件。</span><br><span class="line">AUTOMOUNT   - 启用和禁用基本卷的自动装载。</span><br><span class="line">BREAK       - 中断镜像集。</span><br><span class="line">CLEAN       - 从磁盘清除配置信息或所有信息。</span><br><span class="line">COMPACT     - 尝试减少文件的物理大小。</span><br><span class="line">CONVERT     - 在不同的磁盘格式之间转换。</span><br><span class="line">CREATE      - 创建卷、分区或虚拟磁盘。</span><br><span class="line">DELETE      - 删除对象。</span><br><span class="line">DETAIL      - 提供对象详细信息。</span><br><span class="line">DETACH      - 分离虚拟磁盘文件。</span><br><span class="line">EXIT        - 退出 DiskPart。</span><br><span class="line">EXTEND      - 扩展卷。</span><br><span class="line">EXPAND      - 扩展虚拟磁盘上可用的最大大小。</span><br><span class="line">FILESYSTEMS - 显示卷上当前和支持的文件系统</span><br><span class="line">FORMAT      - 格式化卷或分区</span><br><span class="line">GPT         - 给选择的 GPT 分区分配属性。</span><br><span class="line">HELP        - 显示命令列表。</span><br><span class="line">IMPORT      - 导入磁盘组。</span><br><span class="line">INACTIVE    - 将所选分区标为不活动。</span><br><span class="line">LIST        - 显示对象列表。</span><br><span class="line">MERGE       - 将子磁盘与其父磁盘合并。</span><br><span class="line">ONLINE      - 使当前标为脱机的对象联机。</span><br><span class="line">OFFLINE     - 使当前标记为联机的对象脱机。</span><br><span class="line">RECOVER     - 刷新所选包中所有磁盘的状态。</span><br><span class="line">            尝试恢复无效包中的磁盘，并</span><br><span class="line">            重新同步具有过时丛或奇偶校验数据</span><br><span class="line">            的镜像卷和 RAID5 卷。</span><br><span class="line">REM         - 不起任何作用。用来注释脚本。</span><br><span class="line">REMOVE      - 删除驱动器号或装载点分配。</span><br><span class="line">REPAIR      - 用失败的成员修复一个 RAID-5 卷。</span><br><span class="line">RESCAN      - 重新扫描计算机，查找磁盘和卷。</span><br><span class="line">RETAIN      - 在一个简单卷下放置一个保留分区。</span><br><span class="line">SAN         - 显示或设置当前启动的操作系统的 SAN 策略。</span><br><span class="line">SELECT      - 将焦点移动到对象。</span><br><span class="line">SETID       - 更改分区类型。</span><br><span class="line">SHRINK      - 减小选定卷。</span><br><span class="line">UNIQUEID    - 显示或设置磁盘的 GUID 分区表(GPT)标识符或</span><br><span class="line">            主启动记录(MBR)签名。</span><br><span class="line"></span><br><span class="line">DISKPART&gt;</span><br></pre></td></tr></table></figure></li><li><p>帮助子命令</p><p>以子命令 <code>select</code> 为例。</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">DISKPART&gt; help select</span><br><span class="line"></span><br><span class="line">Microsoft DiskPart 版本 10.0.19041.1</span><br><span class="line"></span><br><span class="line">DISK        - 将焦点移动到磁盘。例如，SELECT DISK。</span><br><span class="line">PARTITION   - 将焦点移动到分区。例如，SELECT PARTITION。</span><br><span class="line">VOLUME      - 将焦点移动到卷。例如，SELECT VOLUME。</span><br><span class="line">VDISK       - 将焦点转移到虚拟磁盘。例如，SELECT VDISK。</span><br></pre></td></tr></table></figure><p>发现有 4 个选项，这里以 <code>disk</code> 为例。</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">DISKPART&gt; help select disk</span><br><span class="line"></span><br><span class="line">    选择指定的磁盘并将焦点切换到该磁盘。</span><br><span class="line"></span><br><span class="line">语法:  SELECT DISK&#x3D;&lt;N&gt;</span><br><span class="line">        SELECT DISK&#x3D;SYSTEM</span><br><span class="line">        SELECT DISK&#x3D;NEXT</span><br><span class="line">        SELECT DISK&#x3D;&lt;Path&gt;</span><br><span class="line"></span><br><span class="line">    DISK&#x3D;&lt;N&gt;</span><br><span class="line">                要接收焦点的磁盘</span><br><span class="line">                的 DiskPart 磁盘索引号。</span><br><span class="line"></span><br><span class="line">    DISK&#x3D;&lt;Path&gt;</span><br><span class="line">                要接收焦点的磁盘的位置路径。</span><br><span class="line"></span><br><span class="line">    DISK&#x3D;SYSTEM</span><br><span class="line">                在 BIOS 计算机上，BIOS 磁盘 0 将接收焦点。</span><br><span class="line">                在 EFI 计算机上，用于当前启动的</span><br><span class="line">                包含 ESP 分区的磁盘将接收焦点。在 EFI</span><br><span class="line">                计算机上，如果没有 ESP，或者存在多个</span><br><span class="line">                ESP，或者计算机从 Windows PE 启动，</span><br><span class="line">                该命令都将失败。</span><br><span class="line"></span><br><span class="line">    DISK&#x3D;NEXT</span><br><span class="line">                选择磁盘后，将对磁盘列表中的所有磁盘循环执行</span><br><span class="line">                此命令。列表中的下一个磁盘</span><br><span class="line">                将接收焦点。如果下一个磁盘是</span><br><span class="line">                枚举的开始位置，则此命令将失败，任何磁盘都将没有</span><br><span class="line">                焦点。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    如果未指定选项，则 select 命令将列出当前带有焦点的</span><br><span class="line">    磁盘。你可以使用 LIST DISK 命令查看计算机上所有磁盘的</span><br><span class="line">    DiskPart 索引号。</span><br><span class="line"></span><br><span class="line">示例:</span><br><span class="line"></span><br><span class="line">    SELECT DISK&#x3D;1</span><br><span class="line">    SELECT DISK&#x3D;SYSTEM</span><br><span class="line">    SELECT DISK&#x3D;NEXT</span><br><span class="line">    SELECT DISK&#x3D;PCIROOT(0)#PCI(0100)#ATA(C00T00L01)</span><br><span class="line"></span><br><span class="line">DISKPART&gt;</span><br></pre></td></tr></table></figure><p>至此我们获得了 <code>select disk</code> 的用法。</p><p>其他命令以此类推。</p></li></ol><h2 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h2><ol><li><p>显示列表（list）、移动焦点（select）</p><p>先看一下所有的磁盘</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">DISKPART&gt; list disk</span><br><span class="line"></span><br><span class="line"> 磁盘 ###  状态           大小     可用     Dyn  Gpt</span><br><span class="line"> --------  -------------  -------  -------  ---  ---</span><br><span class="line"> 磁盘 0    联机              476 GB      0 B        *</span><br><span class="line"> 磁盘 1    联机              465 GB  1024 KB        *</span><br><span class="line"> 磁盘 2    联机              465 GB  1024 KB</span><br></pre></td></tr></table></figure><p>焦点移动到 disk 0 上，注意那个星号（*）</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">DISKPART&gt; select disk 0</span><br><span class="line"></span><br><span class="line">磁盘 0 现在是所选磁盘。</span><br><span class="line"></span><br><span class="line">DISKPART&gt; list disk</span><br><span class="line"></span><br><span class="line">  磁盘 ###  状态           大小     可用     Dyn  Gpt</span><br><span class="line">  --------  -------------  -------  -------  ---  ---</span><br><span class="line">* 磁盘 0    联机              476 GB      0 B        *</span><br><span class="line">  磁盘 1    联机              465 GB  1024 KB        *</span><br><span class="line">  磁盘 2    联机              465 GB  1024 KB</span><br></pre></td></tr></table></figure><p>显示 disk 0 上的 分区</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">DISKPART&gt; list part</span><br><span class="line"></span><br><span class="line">  分区 ###       类型              大小     偏移量</span><br><span class="line">  -------------  ----------------  -------  -------</span><br><span class="line">  分区      1    系统                 100 MB  1024 KB</span><br><span class="line">  分区      2    系统                 200 MB   101 MB</span><br><span class="line">  分区      3    主要                 326 GB   301 MB</span><br><span class="line">  分区      4    未知                 150 GB   326 GB</span><br></pre></td></tr></table></figure><p>焦点移动到 partition 1 上面，注意那个星号（*）</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">DISKPART&gt; select part 1</span><br><span class="line"></span><br><span class="line">分区 1 现在是所选分区。</span><br><span class="line"></span><br><span class="line">DISKPART&gt; list part</span><br><span class="line"></span><br><span class="line">  分区 ###       类型              大小     偏移量</span><br><span class="line">  -------------  ----------------  -------  -------</span><br><span class="line">* 分区      1    系统                 100 MB  1024 KB</span><br><span class="line">  分区      2    系统                 200 MB   101 MB</span><br><span class="line">  分区      3    主要                 326 GB   301 MB</span><br><span class="line">  分区      4    未知                 150 GB   326 GB</span><br></pre></td></tr></table></figure><p>显示 volume</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">DISKPART&gt; list vol</span><br><span class="line"></span><br><span class="line">  卷 ###      LTR  标签         FS     类型        大小     状态       信息</span><br><span class="line">  ----------  ---  -----------  -----  ----------  -------  ---------  --------</span><br><span class="line">  卷     0     C   W10P         NTFS   磁盘分区         326 GB  正常         启动</span><br><span class="line">  卷     1                      FAT32  磁盘分区         100 MB  正常         系统</span><br><span class="line">  卷     2         EFI 2        FAT32  磁盘分区         200 MB  正常         已隐藏</span><br><span class="line">  卷     3     E   Win10_old    NTFS   磁盘分区         465 GB  正常</span><br><span class="line">  卷     4         EFI          FAT    磁盘分区         629 MB  正常         已隐藏</span><br><span class="line">  卷     5     F   Seagate Sli  NTFS   磁盘分区         465 GB  正常</span><br></pre></td></tr></table></figure></li><li><p>set</p><p>作用：指定新分区类型。</p><table><thead><tr><th align="left">类型</th><th align="left">值</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">EFI 系统分区</td><td align="left"><code>c12a7328-f81f-11d2-ba4b-00a0c93ec93b</code></td><td align="left">设置为 ESP 分区</td></tr><tr><td align="left">基本数据分区</td><td align="left"><code>ebd0a0a2-b9e5-4433-87c0-68b6b72699c7</code></td><td align="left">顾名思义，分配盘符就可以在在资源管理器中访问了</td></tr></tbody></table><p>示例：设置 disk 0 的 partition 1 为基本数据分区</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">DISKPART&gt; select disk 0</span><br><span class="line"></span><br><span class="line">磁盘 0 现在是所选磁盘。</span><br><span class="line"></span><br><span class="line">DISKPART&gt; select part 1</span><br><span class="line"></span><br><span class="line">分区 1 现在是所选分区。</span><br><span class="line"></span><br><span class="line">DISKPART&gt; set id&#x3D;ebd0a0a2-b9e5-4433-87c0-68b6b72699c7</span><br></pre></td></tr></table></figure></li><li><p>assign</p><p>作用：为带焦点的卷分配一个驱动器号或已安装文件夹路径名称。</p><blockquote><p>你无法为启动卷或含有页面文件的卷分配驱动器号。<br>此外，你也无法为原始设备制造商(OEM)分区(除非启动到 Windows PE)或除基本数据分区以外的任何 GUID 分区表(GPT)分区、ESP 分区或恢复分区分配驱动器号。</p></blockquote><blockquote><p>必须选择一个卷才能成功执行此操作。</p></blockquote><p>示例：给 volume 2 分配盘符 D</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">DISKPART&gt; select vol 2</span><br><span class="line"></span><br><span class="line">卷 2 是所选卷。</span><br><span class="line"></span><br><span class="line">DISKPART&gt; ASSIGN LETTER&#x3D;D</span><br></pre></td></tr></table></figure></li><li><p>remove</p><p>作用：移除盘符</p><p>assign 命令可以给一个卷分配盘符，那么可以用 remove 命令把盘符移除。</p><p>示例：将 volume 2 盘符 D 移除</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">DISKPART&gt; select vol 2</span><br><span class="line"></span><br><span class="line">卷 2 是所选卷。</span><br><span class="line"></span><br><span class="line">DISKPART&gt; remove LETTER&#x3D;D</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
            <tag> diskpart </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>黑苹果UDH630核显HDMI输出黑屏解决的一点体会</title>
      <link href="/blog/2020/09/01/hackintosh-uhd630-hdmi-black-screen/"/>
      <url>/blog/2020/09/01/hackintosh-uhd630-hdmi-black-screen/</url>
      
        <content type="html"><![CDATA[<p>黑苹果 UDH630 核显 HDMI 输出黑屏解决的一点体会</p><a id="more"></a><h1 id="黑苹果-UDH630-核显-HDMI-输出黑屏解决的一点体会"><a href="#黑苹果-UDH630-核显-HDMI-输出黑屏解决的一点体会" class="headerlink" title="黑苹果 UDH630 核显 HDMI 输出黑屏解决的一点体会"></a>黑苹果 UDH630 核显 HDMI 输出黑屏解决的一点体会</h1><p>硬件配置</p><ul><li>华硕 B365M-KYLIN</li><li>I3 9100（核显 UHD630）</li><li>无独显</li></ul><p>大致步骤</p><ol><li>确定 <code>ig-platform-id</code></li><li>修改接口类型为 <code>HDMI</code></li><li>禁用 <code>AGDC</code></li></ol><h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><p>请仔细阅读下面链接中“<strong>建议</strong>”一段的内容，并对照自己的 <code>Clover</code> 或 <code>OC</code> 配置进行更改。</p><blockquote><p>| <a href="https://github.com/acidanthera/WhateverGreen/blob/master/Manual/FAQ.IntelHD.cn.md" target="_blank" rel="noopener">https://github.com/acidanthera/WhateverGreen/blob/master/Manual/FAQ.IntelHD.cn.md</a></p></blockquote><h2 id="确定-ig-platform-id"><a href="#确定-ig-platform-id" class="headerlink" title="确定 ig-platform-id"></a>确定 <code>ig-platform-id</code></h2><ol><li><p>核显型号</p><p>首先要知道核显是什么型号，intel 官网可以查到</p><blockquote><p><a href="https://ark.intel.com" target="_blank" rel="noopener">https://ark.intel.com</a></p></blockquote><p>查询得知我的 CPU 是 I3 9100，核显为 UHD630</p></li><li><p><code>ig-platform-id</code></p><p>接下来根据核显型号查询合适的 <code>ig-platform-id</code>，请详细阅读下面链接中 “UHD 610-655（Coffee Lake 微架构，下文简称 CFL）”一段的内容</p><blockquote><p><a href="https://github.com/acidanthera/WhateverGreen/blob/master/Manual/FAQ.IntelHD.cn.md" target="_blank" rel="noopener">https://github.com/acidanthera/WhateverGreen/blob/master/Manual/FAQ.IntelHD.cn.md</a></p></blockquote><p>因为是台式机，推荐使用 <code>0x3E9B0007</code></p><blockquote><p>推荐的 FB 设置：0x3EA50000（桌面版，缺省值）或 0x3E9B0007（桌面版，推荐）；0x3EA50009（移动版，缺省值）。</p></blockquote></li></ol><h2 id="修改接口类型为-HDMI"><a href="#修改接口类型为-HDMI" class="headerlink" title="修改接口类型为 HDMI"></a>修改接口类型为 <code>HDMI</code></h2><p><code>ig-platform-id</code> 确定了，要修改接口类型为 <code>HDMI</code>，继续查表，请详细查看下面链接中“CFL 平台详细信息（点击此处以展开）”一段的内容，</p><blockquote><p><a href="https://github.com/acidanthera/WhateverGreen/blob/master/Manual/FAQ.IntelHD.cn.md" target="_blank" rel="noopener">https://github.com/acidanthera/WhateverGreen/blob/master/Manual/FAQ.IntelHD.cn.md</a></p></blockquote><p>注意最后三行中的 <code>00040000</code>，代表接口类型为 <code>DP</code>，修改为 <code>00080000</code> 就是 <code>HDMI</code> 类型了。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">ID: 0x3E9B0007, STOLEN: 57 MB, FBMEM: 0 bytes, VRAM: 1536 MB, Flags: 0x00801302</span><br><span class="line">TOTAL STOLEN: 58 MB, TOTAL CURSOR: 1 MB (1572864 bytes), MAX STOLEN: 172 MB, MAX OVERALL: 173 MB (181940224 bytes)</span><br><span class="line">Model name: Intel UHD Graphics 630</span><br><span class="line">Camelia: CameliaDisabled (0), Freq: 0 Hz, FreqMax: 0 Hz</span><br><span class="line">Mobile: 0, PipeCount: 3, PortCount: 3, FBMemoryCount: 3</span><br><span class="line">[1] busId: 0x05, pipe: 9, type: 0x00000400, flags: 0x000003C7 - ConnectorDP</span><br><span class="line">[2] busId: 0x04, pipe: 10, type: 0x00000400, flags: 0x000003C7 - ConnectorDP</span><br><span class="line">[3] busId: 0x06, pipe: 8, type: 0x00000400, flags: 0x000003C7 - ConnectorDP</span><br><span class="line">01050900 00040000 C7030000</span><br><span class="line">02040A00 00040000 C7030000</span><br><span class="line">03060800 00040000 C7030000</span><br></pre></td></tr></table></figure><h2 id="禁用-AGDC"><a href="#禁用-AGDC" class="headerlink" title="禁用 AGDC"></a>禁用 <code>AGDC</code></h2><p>系统为 10.15.6 使用核显 UHD630 用于显示时，可能在启动到登陆界面时会黑屏。解决办法是“禁用 AGDC”。</p><p>二选一</p><ul><li>启动参数：<code>igfxagdc=0</code></li><li>config.plist 文件中 <code>Devices</code>，<code>Propertise</code> 添加 <code>disable-agdc</code>，属性值为 <code>01000000</code>。</li></ul><h2 id="配置总结"><a href="#配置总结" class="headerlink" title="配置总结"></a>配置总结</h2><p>根据以上所述，下表是配置总结</p><table><thead><tr><th align="left">属性键</th><th align="left">属性值</th><th align="left">值类型</th><th align="left">描述</th></tr></thead><tbody><tr><td align="left"><code>ig-platform-id</code></td><td align="left"><code>07009B3E</code></td><td align="left"><code>DATA</code></td><td align="left"></td></tr><tr><td align="left"><code>framebuffer-patch-enable</code></td><td align="left"><code>01000000</code></td><td align="left"><code>DATA</code></td><td align="left"></td></tr><tr><td align="left"><code>disable-agdc</code></td><td align="left"><code>01000000</code></td><td align="left"><code>DATA</code></td><td align="left"></td></tr><tr><td align="left"><code>framebuffer-con0-enable</code></td><td align="left"><code>01000000</code></td><td align="left"><code>DATA</code></td><td align="left"></td></tr><tr><td align="left"><code>framebuffer-con0-alldata</code></td><td align="left"><code>01050900 00080000 C7030000</code></td><td align="left"><code>DATA</code></td><td align="left"></td></tr><tr><td align="left"><code>framebuffer-con0-enable</code></td><td align="left"><code>01000000</code></td><td align="left"><code>DATA</code></td><td align="left"></td></tr><tr><td align="left"><code>framebuffer-con0-alldata</code></td><td align="left"><code>02040A00 00080000 C7030000</code></td><td align="left"><code>DATA</code></td><td align="left"></td></tr><tr><td align="left"><code>framebuffer-con0-enable</code></td><td align="left"><code>01000000</code></td><td align="left"><code>DATA</code></td><td align="left"></td></tr><tr><td align="left"><code>framebuffer-con0-alldata</code></td><td align="left"><code>03060800 00080000 C7030000</code></td><td align="left"><code>DATA</code></td><td align="left"></td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> 黑苹果 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 黑苹果 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用 DISM 制作多合一系统镜像</title>
      <link href="/blog/2020/06/24/use-dism-append-image/"/>
      <url>/blog/2020/06/24/use-dism-append-image/</url>
      
        <content type="html"><![CDATA[<p>使用 DISM 制作多合一系统镜像</p><a id="more"></a><h1 id="使用-DISM-制作多合一系统镜像"><a href="#使用-DISM-制作多合一系统镜像" class="headerlink" title="使用 DISM 制作多合一系统镜像"></a>使用 DISM 制作多合一系统镜像</h1><p>本文以 Windows 7 VL 专业版 32 位、64 位集成同一 .WIM 文件中为例。本文适用于 Win7、8、8.1、10 及 Windows Server 2008 R2、2012、2016、2019 等</p><h2 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h2><ol><li><p>获取 .WIM 文件</p></li><li><p>查看镜像文件信息</p><pre><code>DISM /Get-ImageInfo /ImageFile:F:\sources\install.wim</code></pre></li></ol><h2 id="执行"><a href="#执行" class="headerlink" title="执行"></a>执行</h2><ol><li><p>集成镜像</p><pre><code>DISM /Export-Image /SourceImageFile:F:\sources\install.wim /SourceIndex:1 /DestinationImageFile:C:\win7pro_vl\install.wim /DestinationName:&quot;Windows 7 Pro VL x86&quot;DISM /Export-Image /SourceImageFile:G:\sources\install.wim /SourceIndex:1 /DestinationImageFile:C:\win7pro_vl\install.wim /DestinationName:&quot;Windows 7 Pro VL x64&quot;</code></pre><p>F 盘挂载 x86 镜像<br>G 盘挂载 x64 镜像</p><p>集成 x64、x86 中索引1（VL 专业版）到文件 <code>C:\win7pro_vl\install.wim</code></p></li></ol><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><blockquote><p><a href="https://docs.microsoft.com/zh-cn/windows-hardware/manufacture/desktop/dism-image-management-command-line-options-s14" target="_blank" rel="noopener">https://docs.microsoft.com/zh-cn/windows-hardware/manufacture/desktop/dism-image-management-command-line-options-s14</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
            <tag> dism </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>从 USB 闪存驱动器安装 Windows</title>
      <link href="/blog/2020/06/14/use-usb-key-install-windows/"/>
      <url>/blog/2020/06/14/use-usb-key-install-windows/</url>
      
        <content type="html"><![CDATA[<p>从 USB 闪存驱动器安装 Windows</p><a id="more"></a><h1 id="从-USB-闪存驱动器安装-Windows"><a href="#从-USB-闪存驱动器安装-Windows" class="headerlink" title="从 USB 闪存驱动器安装 Windows"></a>从 USB 闪存驱动器安装 Windows</h1><p>适用于 Windows 10</p><h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><h3 id="一、准备-USB-闪存驱动器"><a href="#一、准备-USB-闪存驱动器" class="headerlink" title="一、准备 USB 闪存驱动器"></a>一、准备 USB 闪存驱动器</h3><ol><li>创建<strong>主分区</strong>，并设置为<strong>活动分区</strong></li><li>格式化为 <strong>FAT32</strong> 格式</li></ol><h3 id="二、复制-Windows-安装程序到-USB-闪存驱动器"><a href="#二、复制-Windows-安装程序到-USB-闪存驱动器" class="headerlink" title="二、复制 Windows 安装程序到 USB 闪存驱动器"></a>二、复制 Windows 安装程序到 USB 闪存驱动器</h3><ol><li>提取 Windows 产品 DVD 或 ISO 中全部文件至 USB 闪存驱动器</li></ol><h3 id="三、安装-Windows"><a href="#三、安装-Windows" class="headerlink" title="三、安装 Windows"></a>三、安装 Windows</h3><p>略</p><h2 id="故障排除：文件复制失败"><a href="#故障排除：文件复制失败" class="headerlink" title="故障排除：文件复制失败"></a>故障排除：文件复制失败</h2><p>当 Windows 映像文件超过 FAT32 文件大小限制时，可能会发生这种情况。 发生这种情况时：</p><ol><li><p>将除 Windows 映像文件（sources\install.wim）之外的所有内容复制到 USB 驱动器（拖放或使用此命令，其中 D：是已装载的 ISO，E：是 u 盘）。</p><pre><code>robocopy D: E: /s /max:3800000000</code></pre></li><li><p>将 Windows 映像文件拆分为较小的文件，并将较小的文件放在 USB 驱动器上：</p><pre><code>Dism /Split-Image /ImageFile:D:\sources\install.wim /SWMFile:E:\sources\install.swm /FileSize:3800</code></pre><p>请注意，Windows 安装程序会自动从此文件安装，只要你将其命名为 swm。</p></li></ol><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><blockquote><p><a href="https://docs.microsoft.com/zh-cn/windows-hardware/manufacture/desktop/install-windows-from-a-usb-flash-drive" target="_blank" rel="noopener">https://docs.microsoft.com/zh-cn/windows-hardware/manufacture/desktop/install-windows-from-a-usb-flash-drive</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数字许可证</title>
      <link href="/blog/2020/06/12/digital-license/"/>
      <url>/blog/2020/06/12/digital-license/</url>
      
        <content type="html"><![CDATA[<p>数字许可证</p><a id="more"></a><h1 id="数字许可证"><a href="#数字许可证" class="headerlink" title="数字许可证"></a>数字许可证</h1><p>数字许可证（在 Windows 10 版本 1511 中称为数字授权）是 Windows 10 的一种激活方法，该方法不需要输入产品密钥。</p><h2 id="查看"><a href="#查看" class="headerlink" title="查看"></a>查看</h2><p>开始 -&gt; 设置 -&gt; 更新与安全 -&gt; 激活</p><p>在这个地方会看到 Windows 以数字许可证方式激活</p><p><code>Windows is activated with a digital lincense</code></p><h2 id="方式"><a href="#方式" class="headerlink" title="方式"></a>方式</h2><p>怎样才能是数字许可证方式激活，下面 2 种方式</p><ol><li>从已经激活的 Windows 7 或 Windows 8 、8.1 就地升级的</li><li>购买的计算机 Windows 10 系统已经使用数字许可证方式激活</li></ol><h2 id="好处"><a href="#好处" class="headerlink" title="好处"></a>好处</h2><p>Windows 10 使用了数字许可证方式激活，当满足以下 2 点时，重新安装操作系统后，计算机一旦连接互联网则自动激活。</p><ol><li>主要硬件没有改变</li><li>Windwos 10 的版本与之前激活的版本一致</li></ol><h2 id="链接你的微软-ID"><a href="#链接你的微软-ID" class="headerlink" title="链接你的微软 ID"></a>链接你的微软 ID</h2><p>当你使用微软 ID 登录计算机，微软会将数字许可证与你的微软 ID 绑定。</p><p>这时候激活信息显示如下：</p><p><code>Windows is activated with a digital lincense linked to your Microsoft accout</code></p><p>链接微软 ID 后，数字许可证是可以转移的。</p><p>如果计算机主要硬件改变，激活会失败，这时就需要转移数字许可证</p><ul><li>链接了微软 ID 就可以转移了，微软真是操碎了心</li></ul><p>怎么转移？点“疑难解答”</p><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><blockquote><p><a href="https://support.microsoft.com/zh-cn/help/12440/windows-10-activate?ocid=ActivationSettingsLearnMore" target="_blank" rel="noopener">https://support.microsoft.com/zh-cn/help/12440/windows-10-activate?ocid=ActivationSettingsLearnMore</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vlmcsd 超简单教程</title>
      <link href="/blog/2020/05/20/vlmcsd-simple/"/>
      <url>/blog/2020/05/20/vlmcsd-simple/</url>
      
        <content type="html"><![CDATA[<p>vlmcsd 超简单教程</p><a id="more"></a><h1 id="vlmcsd-超简单教程"><a href="#vlmcsd-超简单教程" class="headerlink" title="vlmcsd 超简单教程"></a>vlmcsd 超简单教程</h1><h2 id="Start-Vlmcsd"><a href="#Start-Vlmcsd" class="headerlink" title="Start Vlmcsd"></a>Start Vlmcsd</h2><p>github 地址：<a href="https://github.com/Wind4/vlmcsd" target="_blank" rel="noopener">https://github.com/Wind4/vlmcsd</a></p><p>示例</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># wget https:&#x2F;&#x2F;github.com&#x2F;Wind4&#x2F;vlmcsd&#x2F;releases&#x2F;download&#x2F;svn1113&#x2F;binaries.tar.gz</span><br><span class="line"># tar xf binaries.tar.gz</span><br><span class="line"># .&#x2F;binaries&#x2F;Linux&#x2F;intel&#x2F;static&#x2F;vlmcsd-x64-musl-static</span><br></pre></td></tr></table></figure><p>查看 1688 端口已打开</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# ss -ntl | grep 1688</span><br><span class="line">LISTEN     0      128          *:1688                     *:*                  </span><br><span class="line">LISTEN     0      128         :::1688                    :::*</span><br></pre></td></tr></table></figure><p>开机启动</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># cp .&#x2F;binaries&#x2F;Linux&#x2F;intel&#x2F;static&#x2F;vlmcsd-x64-musl-static &#x2F;usr&#x2F;local&#x2F;bin&#x2F;</span><br><span class="line"># echo &#39;&#x2F;usr&#x2F;local&#x2F;bin&#x2F;vlmcsd-x64-musl-static&#39; &gt;&gt; &#x2F;etc&#x2F;rc.d&#x2F;rc.local</span><br><span class="line"># chmod a+x &#x2F;etc&#x2F;rc.d&#x2F;rc.local</span><br></pre></td></tr></table></figure><h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><p>查看可用 apps</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># .&#x2F;binaries&#x2F;Linux&#x2F;intel&#x2F;static&#x2F;vlmcs-x64-musl-static -x</span><br></pre></td></tr></table></figure><p>查看 kms 服务器 194 号 app，194 是 Office Professional Plus 2019</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># .&#x2F;binaries&#x2F;Linux&#x2F;intel&#x2F;static&#x2F;vlmcs-x64-musl-static -v -l 194 127.0.0.1</span><br></pre></td></tr></table></figure><p>上面示例以 Linux 为例子，其他系统及平台类似</p><h2 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h2><p><code>vlmcsd-xxx</code>：服务器</p><p><code>vlmcs-xxx</code>：客户端</p><h2 id="激活"><a href="#激活" class="headerlink" title="激活"></a>激活</h2><p>kms 服务器只能激活 vl 版软件</p><p>示例：Windows 10 专业版</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">slmgr &#x2F;upk</span><br><span class="line">slmgr &#x2F;ipk W269N-WFGWX-YVC9B-4J6C9-T83GX</span><br><span class="line">slmgr &#x2F;skms:&lt;kms&#39;s IP&gt;</span><br><span class="line">slmgr &#x2F;ato</span><br></pre></td></tr></table></figure><p>示例：Office 2016 vl on Windows 10</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd &#39;C:\Program Files\Microsoft Office\Office16\&#39;</span><br><span class="line">cscript ospp.vbs &#x2F;sethst:&lt;kms&#39;s IP&gt;</span><br><span class="line">cscript ospp.vbs &#x2F;act</span><br><span class="line">cscript ospp.vbs &#x2F;dstatus</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> vlmcsd </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vlmcsd </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hyper-v NAT 网络使用固定 IP</title>
      <link href="/blog/2020/05/18/hyper-v-use-nat/"/>
      <url>/blog/2020/05/18/hyper-v-use-nat/</url>
      
        <content type="html"><![CDATA[<p>Hyper-v NAT 网络使用固定 IP</p><a id="more"></a><h1 id="Hyper-v-NAT-网络使用固定-IP"><a href="#Hyper-v-NAT-网络使用固定-IP" class="headerlink" title="Hyper-v NAT 网络使用固定 IP"></a>Hyper-v NAT 网络使用固定 IP</h1><h2 id="查看-NAT-网络"><a href="#查看-NAT-网络" class="headerlink" title="查看 NAT 网络"></a>查看 NAT 网络</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Get-NetNat</span><br></pre></td></tr></table></figure><p>如果已经存在 NAT 网络，需要先删除</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Remove-NetNat</span><br></pre></td></tr></table></figure><h2 id="创建虚拟交换机"><a href="#创建虚拟交换机" class="headerlink" title="创建虚拟交换机"></a>创建虚拟交换机</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">New-VMSwitch -SwitchName &quot;hyper-v-nat&quot; -SwitchType Internal -Verbose</span><br></pre></td></tr></table></figure><h2 id="查看虚拟交换机的接口索引"><a href="#查看虚拟交换机的接口索引" class="headerlink" title="查看虚拟交换机的接口索引"></a>查看虚拟交换机的接口索引</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Get-NetAdapter</span><br></pre></td></tr></table></figure><p>表：关键字</p><table><thead><tr><th align="left">关键字</th><th align="left">描述</th></tr></thead><tbody><tr><td align="left"><code>ifIndex</code></td><td align="left">虚拟交换机的接口索引</td></tr></tbody></table><h2 id="配置-NAT-网关"><a href="#配置-NAT-网关" class="headerlink" title="配置 NAT 网关"></a>配置 NAT 网关</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">New-NetIPAddress -IPAddress 192.168.10.1 -PrefixLength 24 -InterfaceIndex &lt;ifIndex&gt; -Verbose</span><br></pre></td></tr></table></figure><p>表：关键字</p><table><thead><tr><th align="left">关键字</th><th align="left">描述</th></tr></thead><tbody><tr><td align="left"><code>IPAddress</code></td><td align="left">NAT 网关 IP</td></tr><tr><td align="left"><code>PrefixLength</code></td><td align="left">NAT 子网前缀长度</td></tr><tr><td align="left"><code>InterfaceIndex</code></td><td align="left">虚拟交换机的接口索引</td></tr></tbody></table><h2 id="配置-NAT-网络"><a href="#配置-NAT-网络" class="headerlink" title="配置 NAT 网络"></a>配置 NAT 网络</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">New-NetNat -Name NATNetwork -InternalIPInterfaceAddressPrefix 192.168.10.0&#x2F;24 -Verbose</span><br></pre></td></tr></table></figure><p>表：关键字</p><table><thead><tr><th align="left">关键字</th><th align="left">描述</th></tr></thead><tbody><tr><td align="left"><code>Name</code></td><td align="left">NAT 网络的名称</td></tr><tr><td align="left"><code>InternalIPInterfaceAddressPrefix</code></td><td align="left">NAT 网关 IP 前缀</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> windows </category>
          
          <category> hyper-v </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
            <tag> hyper-v </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>OCP 0002 19c Standalone Oracle Restart</title>
      <link href="/blog/2020/04/04/OCP-0002-19c-Standalone-Oracle-Restart/"/>
      <url>/blog/2020/04/04/OCP-0002-19c-Standalone-Oracle-Restart/</url>
      
        <content type="html"><![CDATA[<p>19c Standalone（Oralce Restart）</p><a id="more"></a><h1 id="19c-Standalone（Oralce-Restart）"><a href="#19c-Standalone（Oralce-Restart）" class="headerlink" title="19c Standalone（Oralce Restart）"></a>19c Standalone（Oralce Restart）</h1><h2 id="操作系统配置"><a href="#操作系统配置" class="headerlink" title="操作系统配置"></a>操作系统配置</h2><h3 id="关闭防火墙"><a href="#关闭防火墙" class="headerlink" title="关闭防火墙"></a>关闭防火墙</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># systemctl disable firewalld</span><br><span class="line"># systemctl stop firewalld</span><br><span class="line"># systemctl disable iptables</span><br><span class="line"># systemctl stop iptables</span><br></pre></td></tr></table></figure><h3 id="禁用-Selinux"><a href="#禁用-Selinux" class="headerlink" title="禁用 Selinux"></a>禁用 Selinux</h3><p>临时关闭</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># setenforce 0</span><br></pre></td></tr></table></figure><p>持久化修改</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># sed -i &#39;&#x2F;^SELINUX&#x3D;&#x2F;c\SELINUX&#x3D;disabled&#39; &#x2F;etc&#x2F;selinux&#x2F;config</span><br></pre></td></tr></table></figure><h3 id="用户、组、目录和环境变量"><a href="#用户、组、目录和环境变量" class="headerlink" title="用户、组、目录和环境变量"></a>用户、组、目录和环境变量</h3><p><strong>添加 oracle 和 grid 用户</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">groupadd -g 54321 oinstall  </span><br><span class="line">groupadd -g 54322 dba  </span><br><span class="line">groupadd -g 54323 oper  </span><br><span class="line">groupadd -g 54324 backupdba  </span><br><span class="line">groupadd -g 54325 dgdba  </span><br><span class="line">groupadd -g 54326 kmdba  </span><br><span class="line">groupadd -g 54327 asmdba  </span><br><span class="line">groupadd -g 54328 asmoper  </span><br><span class="line">groupadd -g 54329 asmadmin  </span><br><span class="line">groupadd -g 54330 racdba</span><br><span class="line"></span><br><span class="line">useradd -u 54321 -g oinstall -G dba,asmdba,backupdba,dgdba,kmdba,racdba,oper oracle  </span><br><span class="line">useradd -u 54322 -g oinstall -G asmadmin,asmdba,asmoper,dba,racdba grid</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> &lt;password&gt; | passwd --stdin oracle</span><br><span class="line"><span class="built_in">echo</span> &lt;password&gt; | passwd --stdin grid</span><br></pre></td></tr></table></figure><p><strong>创建安装目录</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /u01/app/19.3.0/grid</span><br><span class="line">mkdir -p /u01/app/grid</span><br><span class="line">mkdir -p /u01/app/oracle</span><br><span class="line">mkdir -p /u01/app/oracle/product/19.3.0/dbhome_1</span><br><span class="line">chown -R grid:oinstall /u01</span><br><span class="line">chown -R oracle:oinstall /u01/app/oracle</span><br><span class="line">chmod -R 775 /u01/</span><br><span class="line"></span><br><span class="line">mkdir -p /u01/app/oraInventory</span><br><span class="line">chown -R grid:oinstall /u01/app/oraInventory</span><br><span class="line">chmod -R 775 /u01/app/oraInventory</span><br></pre></td></tr></table></figure><p><strong>配置 grid 和 oracle 用户的环境变量文件</strong></p><p>oracle 用户</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vi &#x2F;home&#x2F;oracle&#x2F;.bash_profile</span><br></pre></td></tr></table></figure><p>未完待续……</p><p>grid 用户</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vi &#x2F;home&#x2F;grid&#x2F;.bash_profile</span><br></pre></td></tr></table></figure><p>未完待续……</p><p><strong>配置 root 用户的环境变量</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># vi &#x2F;etc&#x2F;profile</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export ORACLE_BASE&#x3D;&#x2F;u01&#x2F;app&#x2F;grid</span><br><span class="line">export ORACLE_HOME&#x3D;&#x2F;u01&#x2F;app&#x2F;19.3.0&#x2F;grid</span><br><span class="line">export GRID_HOME&#x3D;$ORACLE_HOME</span><br></pre></td></tr></table></figure><h3 id="依赖包的检查"><a href="#依赖包的检查" class="headerlink" title="依赖包的检查"></a>依赖包的检查</h3><p>参考官方文档（Database Installation Guide）</p><p>安装 Oracle 需要的软件包参考</p><blockquote><p><a href="http://blog.itpub.net/26736162/viewspace-2133603/" target="_blank" rel="noopener">http://blog.itpub.net/26736162/viewspace-2133603/</a></p></blockquote><p><strong>检查命令</strong></p><p>示例</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">rpm -q --qf <span class="string">'%&#123;NAME&#125;-%&#123;VERSION&#125;-%&#123;RELEASE&#125; (%&#123;ARCH&#125;)\n'</span> binutils \</span><br><span class="line">compat-libcap1 \</span><br><span class="line">compat-libstdc++-33 \</span><br><span class="line">gcc \</span><br><span class="line">gcc-c++ \</span><br><span class="line">glibc \</span><br><span class="line">glibc-devel \</span><br><span class="line">ksh \</span><br><span class="line">libgcc \</span><br><span class="line">libstdc++ \</span><br><span class="line">libstdc++-devel \</span><br><span class="line">libaio \</span><br><span class="line">libaio-devel \</span><br><span class="line">libXext \</span><br><span class="line">libXtst \</span><br><span class="line">libX11 \</span><br><span class="line">libXau \</span><br><span class="line">libxcb \</span><br><span class="line">libXi \</span><br><span class="line">make \</span><br><span class="line">elfutils-libelf-devel \</span><br><span class="line">sysstat  | grep <span class="string">"not installed"</span></span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -q --qf &#39;%&#123;NAME&#125;-%&#123;VERSION&#125;-%&#123;RELEASE&#125; (%&#123;ARCH&#125;)\n&#39; compat-libstdc++-33</span><br></pre></td></tr></table></figure><p><strong>安装缺失的包</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yum install -y elfutils-libelf-devel*</span><br><span class="line">yum install -y compat-libstdc++*</span><br><span class="line">yum install -y libaio-devel*</span><br><span class="line">yum install -y ksh*</span><br></pre></td></tr></table></figure><p>最后重新检查，确保所有的包已安装。需要注意的是，有的时候由于版本的问题导致检查有问题，所以需要用<code>rpm -qa | grep libstdc</code>来检查。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install binutils compat-libstdc++-33 gcc gcc-c++ glibc glibc.i686 glibc-devel ksh libgcc.i686 libstdc++-devel libaio libaio.i686 libaio-devel libaio-devel.i686 libXext libXext.i686 libXtst libXtst.i686 libX11 libX11.i686 libXau libXau.i686 libxcb libxcb.i686 libXi libXi.i686 make sysstat unixODBC unixODBC-devel zlib-devel zlib-devel.i686 compat-libcap1 -y</span><br></pre></td></tr></table></figure><h3 id="配置内核参数"><a href="#配置内核参数" class="headerlink" title="配置内核参数"></a>配置内核参数</h3><p><strong>修改 /etc/sysctl.conf 文件</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># vi &#x2F;etc&#x2F;sysctl.conf</span><br></pre></td></tr></table></figure><p>添加以下内容</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">vm.swappiness &#x3D; 1</span><br><span class="line">vm.dirty_background_ratio &#x3D; 3</span><br><span class="line">vm.dirty_ratio &#x3D; 80</span><br><span class="line">vm.dirty_expire_centisecs &#x3D; 500</span><br><span class="line">vm.dirty_writeback_centisecs &#x3D; 100</span><br><span class="line">kernel.shmmni &#x3D; 4096</span><br><span class="line">kernel.shmall &#x3D; 1073741824</span><br><span class="line">kernel.shmmax &#x3D; 4398046511104</span><br><span class="line">kernel.sem &#x3D; 250 32000 100 128</span><br><span class="line">net.ipv4.ip_local_port_range &#x3D; 9000 65500</span><br><span class="line">net.core.rmem_default &#x3D; 262144</span><br><span class="line">net.core.rmem_max &#x3D; 4194304</span><br><span class="line">net.core.wmem_default &#x3D; 262144</span><br><span class="line">net.core.wmem_max &#x3D; 1048576</span><br><span class="line">fs.aio-max-nr &#x3D; 1048576</span><br><span class="line">fs.file-max &#x3D; 6815744</span><br><span class="line">kernel.panic_on_oops &#x3D; 1</span><br><span class="line">net.ipv4.conf.enp0s8.rp_filter &#x3D; 2</span><br><span class="line">net.ipv4.conf.enp0s9.rp_filter &#x3D; 2</span><br><span class="line">net.ipv4.conf.enp0s10.rp_filter &#x3D; 2</span><br></pre></td></tr></table></figure><p>生效</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># sysctl -p</span><br></pre></td></tr></table></figure><p><strong>修改 /etc/security/limits.conf 文件</strong></p><p>修改 OS 用户 grid 和 oracle 资源限制</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># cp &#x2F;etc&#x2F;security&#x2F;limits.conf &#x2F;etc&#x2F;security&#x2F;limits.conf.&#96;date +%Y%m%d&#96;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># echo &quot;grid soft nofile 1024</span><br><span class="line">grid hard nofile 65536</span><br><span class="line">grid soft stack 10240</span><br><span class="line">grid hard stack 32768</span><br><span class="line">grid soft nproc 2047</span><br><span class="line">grid hard nproc 16384</span><br><span class="line">oracle soft nofile 1024</span><br><span class="line">oracle hard nofile 65536</span><br><span class="line">oracle soft stack 10240</span><br><span class="line">oracle hard stack 32768</span><br><span class="line">oracle soft nproc 2047</span><br><span class="line">oracle hard nproc 16384</span><br><span class="line">root soft nproc 2047 &quot; &gt;&gt; &#x2F;etc&#x2F;security&#x2F;limits.conf</span><br></pre></td></tr></table></figure><p><strong>修改 /etc/pam.d/login 文件</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># echo &quot;session   required    pam_limits.so&quot; &gt;&gt; &#x2F;etc&#x2F;pam.d&#x2F;login</span><br></pre></td></tr></table></figure><p><strong>修改 /etc/profile 文件</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># vi &#x2F;etc&#x2F;profile</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> [ <span class="variable">$USER</span> = <span class="string">"oracle"</span> ] || [ <span class="variable">$USER</span> = <span class="string">"grid"</span> ]; <span class="keyword">then</span></span><br><span class="line">      <span class="keyword">if</span> [ <span class="variable">$SHELL</span> = <span class="string">"/bin/ksh"</span> ]; <span class="keyword">then</span></span><br><span class="line">            <span class="built_in">ulimit</span> -p 16384</span><br><span class="line">            <span class="built_in">ulimit</span> -n 65536</span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">ulimit</span> -u 16384 -n 65536</span><br><span class="line">      <span class="keyword">fi</span></span><br><span class="line">      <span class="built_in">umask</span> 022</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure><h3 id="配置-dev-shm-大小"><a href="#配置-dev-shm-大小" class="headerlink" title="配置 /dev/shm 大小"></a>配置 /dev/shm 大小</h3><p>不配置会报错：ORA-00845: MEMORY_TARGET not supported on this system，是因为 /dev/shm 的可用空间（非 shm 的总大小）小于了参数文件中设置的 MEMORY_TARGET 值。</p><p>增大/dev/shm</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># vi &#x2F;etc&#x2F;fstab</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tmpfs &#x2F;dev&#x2F;shm tmpfs defaults,size&#x3D;11G 0 0</span><br></pre></td></tr></table></figure><p>重新挂载</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># mount -o remount &#x2F;dev&#x2F;shm</span><br></pre></td></tr></table></figure><h2 id="配置-ASM-磁盘"><a href="#配置-ASM-磁盘" class="headerlink" title="配置 ASM 磁盘"></a>配置 ASM 磁盘</h2><h3 id="Faking-方式"><a href="#Faking-方式" class="headerlink" title="Faking 方式"></a>Faking 方式</h3><p>用文件假冒 ASM 磁盘</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># raw -qa</span><br><span class="line"># losetup -a</span><br><span class="line"># mknod -m 0660 &#x2F;dev&#x2F;loop9 b 7 9</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mkdir /asmdisk</span><br><span class="line">dd <span class="keyword">if</span>=/dev/zero of=/asmdisk/disk1 bs=1024k count=2000</span><br><span class="line">dd <span class="keyword">if</span>=/dev/zero of=/asmdisk/disk2 bs=1024k count=2000</span><br><span class="line">dd <span class="keyword">if</span>=/dev/zero of=/asmdisk/disk3 bs=1024k count=2000</span><br></pre></td></tr></table></figure><p>Add the following entries to the file “/etc/rc.local”</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;sbin&#x2F;losetup &#x2F;dev&#x2F;loop1 &#x2F;asmdisk&#x2F;disk1</span><br><span class="line">&#x2F;sbin&#x2F;losetup &#x2F;dev&#x2F;loop2 &#x2F;asmdisk&#x2F;disk2</span><br><span class="line">&#x2F;sbin&#x2F;losetup &#x2F;dev&#x2F;loop3 &#x2F;asmdisk&#x2F;disk3</span><br><span class="line"></span><br><span class="line">raw &#x2F;dev&#x2F;raw&#x2F;raw1 &#x2F;dev&#x2F;loop1</span><br><span class="line">raw &#x2F;dev&#x2F;raw&#x2F;raw2 &#x2F;dev&#x2F;loop2</span><br><span class="line">raw &#x2F;dev&#x2F;raw&#x2F;raw3 &#x2F;dev&#x2F;loop3</span><br><span class="line"></span><br><span class="line">chmod 660 &#x2F;dev&#x2F;raw&#x2F;raw1</span><br><span class="line">chmod 660 &#x2F;dev&#x2F;raw&#x2F;raw2</span><br><span class="line">chmod 660 &#x2F;dev&#x2F;raw&#x2F;raw3</span><br><span class="line">chown grid:asmadmin &#x2F;dev&#x2F;raw&#x2F;raw1</span><br><span class="line">chown grid:asmadmin &#x2F;dev&#x2F;raw&#x2F;raw2</span><br><span class="line">chown grid:asmadmin &#x2F;dev&#x2F;raw&#x2F;raw3</span><br></pre></td></tr></table></figure><h3 id="VMware-Workstation-软件（可做-rac-共享盘）"><a href="#VMware-Workstation-软件（可做-rac-共享盘）" class="headerlink" title="VMware Workstation 软件（可做 rac 共享盘）"></a>VMware Workstation 软件（可做 rac 共享盘）</h3><p>直接添加磁盘，然后做 udev 绑定即可</p><p>缺点：只能整块盘绑定</p><h3 id="openfiler（可做-rac-共享盘）"><a href="#openfiler（可做-rac-共享盘）" class="headerlink" title="openfiler（可做 rac 共享盘）"></a>openfiler（可做 rac 共享盘）</h3><p>需要部署 openfiler，用来模拟存储</p><blockquote><p><a href="http://blog.itpub.net/26736162/viewspace-2132858/" target="_blank" rel="noopener">http://blog.itpub.net/26736162/viewspace-2132858/</a></p></blockquote><h3 id="ASMLIB（可做-rac-共享盘）"><a href="#ASMLIB（可做-rac-共享盘）" class="headerlink" title="ASMLIB（可做 rac 共享盘）"></a>ASMLIB（可做 rac 共享盘）</h3><p>5.x：<a href="http://blog.itpub.net/26736162/viewspace-1401193/" target="_blank" rel="noopener">http://blog.itpub.net/26736162/viewspace-1401193/</a></p><p><strong>安装 asmlib</strong></p><p>先安装 kmod-oracleasm，再安装 oracleasmlib 和 oracleasm-support</p><p>kmod-oracleasm</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># yum install -y kmod-oracleasm</span><br></pre></td></tr></table></figure><p>oracleasmlib 和 oracleasm-support</p><ul><li><a href="https://www.oracle.com/search" target="_blank" rel="noopener">https://www.oracle.com/search</a></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># wget https:&#x2F;&#x2F;yum.oracle.com&#x2F;repo&#x2F;OracleLinux&#x2F;OL7&#x2F;latest&#x2F;x86_64&#x2F;getPackage&#x2F;oracleasm-support-2.1.11-2.el7.x86_64.rpm</span><br><span class="line"># wget https:&#x2F;&#x2F;download.oracle.com&#x2F;otn_software&#x2F;asmlib&#x2F;oracleasmlib-2.0.12-1.el7.x86_64.rpm</span><br><span class="line"># rpm -ivh *.rpm</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">systemctl enable oracleasm.service</span><br><span class="line"></span><br><span class="line">oracleasm configure -i  # grid,asmadmin,y,y</span><br><span class="line">oracleasm configure -d</span><br><span class="line">oracleasm configure -e</span><br><span class="line"></span><br><span class="line">oracleasm init  #若初始化失败，则尝试重启OS</span><br><span class="line">oracleasm status</span><br><span class="line"></span><br><span class="line">vgreduce vg_orasoft &#x2F;dev&#x2F;sdb8</span><br><span class="line">pvremove &#x2F;dev&#x2F;sdb8 &#x2F;dev&#x2F;sdb9</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">fdisk -l | grep dev</span><br><span class="line">oracleasm createdisk ASMLIB01 &#x2F;dev&#x2F;sdb8</span><br><span class="line">oracleasm createdisk ASMLIB02 &#x2F;dev&#x2F;sdb9</span><br><span class="line">oracleasm listdisks</span><br><span class="line"># oracleasm renamedisk -f &#x2F;dev&#x2F;sdf1 asmdisk3</span><br></pre></td></tr></table></figure><p><strong>oracleasm 常用命令</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;usr&#x2F;sbin&#x2F;oracleasm configure -i</span><br><span class="line">&#x2F;usr&#x2F;sbin&#x2F;oracleasm createdisk DISK1 &#x2F;dev&#x2F;sdb1    </span><br><span class="line">&#x2F;etc&#x2F;init.d&#x2F;oracleasm scandisks</span><br><span class="line">&#x2F;etc&#x2F;init.d&#x2F;oracleasm listdisks</span><br><span class="line">&#x2F;etc&#x2F;init.d&#x2F;oracleasm enable</span><br><span class="line">&#x2F;etc&#x2F;init.d&#x2F;oracleasm restart</span><br><span class="line">&#x2F;etc&#x2F;init.d&#x2F;oracleasm status</span><br><span class="line">&#x2F;etc&#x2F;init.d&#x2F;oracleasm init</span><br><span class="line"></span><br><span class="line">&#x2F;usr&#x2F;sbin&#x2F;oracleasm enable</span><br><span class="line">&#x2F;usr&#x2F;sbin&#x2F;oracleasm restart</span><br><span class="line">&#x2F;usr&#x2F;sbin&#x2F;oracleasm createdisk DISKNAME devicename</span><br><span class="line">&#x2F;usr&#x2F;sbin&#x2F;oracleasm deletedisk DISKNAME</span><br><span class="line">&#x2F;usr&#x2F;sbin&#x2F;oracleasm querydisk &#123;DISKNAME | devicename&#125;</span><br><span class="line">&#x2F;usr&#x2F;sbin&#x2F;oracleasm listdisks</span><br><span class="line">&#x2F;usr&#x2F;sbin&#x2F;oracleasm scandisks</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -l &#x2F;dev&#x2F;oracleasm&#x2F;disks</span><br></pre></td></tr></table></figure><p>asmlib 配置文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cat &#x2F;etc&#x2F;sysconfig&#x2F;oracleasm</span><br><span class="line">oracleasm configure</span><br></pre></td></tr></table></figure><p>oracleasm 日志</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tail -f &#x2F;var&#x2F;log&#x2F;oracleasm</span><br></pre></td></tr></table></figure><p>查询 ASM 磁盘</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># $GRID_HOME&#x2F;bin&#x2F;kfod disks&#x3D;all st&#x3D;true ds&#x3D;true cluster&#x3D;true</span><br><span class="line">asm_diskstring&#x3D;&#39;&#x2F;dev&#x2F;raw&#x2F;raw*&#39;,&#39;&#x2F;dev&#x2F;asm-*&#39;,&#39;&#x2F;dev&#x2F;oracleasm&#x2F;disks&#x2F;*&#39;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SQL&gt; alter system set asm_diskstring&#x3D;&#39;&#x2F;dev&#x2F;raw&#x2F;raw*&#39;,&#39;&#x2F;dev&#x2F;asm-*&#39;,&#39;ORCL:*&#39;;</span><br></pre></td></tr></table></figure><h3 id="iSCSI-方式（可做-rac-共享盘）"><a href="#iSCSI-方式（可做-rac-共享盘）" class="headerlink" title="iSCSI 方式（可做 rac 共享盘）"></a>iSCSI 方式（可做 rac 共享盘）</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># iscsiadm -m node -T iqn.2018-10.org.linux-iscsi.cos73lhr.x8664:sn.lhraxxt20180917 -p 192.168.59.53 –logout</span><br><span class="line"># iscsiadm -m node --logoutall&#x3D;all</span><br><span class="line"># rm -rf &#x2F;var&#x2F;lib&#x2F;iscsi&#x2F;*</span><br><span class="line"># rm -rf &#x2F;etc&#x2F;udev&#x2F;rules.d&#x2F;99-oracle-asmdevices.rules</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">targetcli</span><br><span class="line">&gt; ls</span><br><span class="line">&gt; cd &#x2F;iscsi&#x2F;iqn.2003-01.org.linux-iscsi.cos73lhr.x8664:sn.7435eaf5ae5d&#x2F;tpg1&#x2F;portals</span><br><span class="line">&gt; delete 192.168.59.51 3260</span><br><span class="line"># create 0.0.0.0</span><br><span class="line">&gt; create 192.168.59.52</span><br><span class="line">&gt; cd &#x2F;</span><br><span class="line">&gt; saveconfig</span><br><span class="line">&gt; exit</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vi &#x2F;etc&#x2F;iscsi&#x2F;initiatorname.iscsi</span><br><span class="line">#  iqn.2003-01.org.linux-iscsi.cos73lhr.x8664:sn.7435eaf5ae5d</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># systemctl start target</span><br><span class="line"># systemctl enable iscsid</span><br><span class="line"># systemctl status iscsid</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iscsiadm -m discovery -t st -p 192.168.59.52</span><br><span class="line">iscsiadm -m node -T iqn.2003-01.org.linux-iscsi.cos73lhr.x8664:sn.7435eaf5ae5d -p 192.168.59.52 --login</span><br></pre></td></tr></table></figure><p><strong>udev 绑定</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># fdisk -l | grep dev</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># while scsi_id</span><br><span class="line">&#x2F;usr&#x2F;lib&#x2F;udev&#x2F;scsi_id</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> c d e f g h i j k l m n; <span class="keyword">do</span> </span><br><span class="line"><span class="built_in">echo</span> <span class="string">"KERNEL==\"sd*\",ENV&#123;DEVTYPE&#125;==\"disk\",SUBSYSTEM==\"block\",PROGRAM==\"/usr/lib/udev/scsi_id -g -u -d \$devnode\",RESULT==\"`/usr/lib/udev/scsi_id -g -u /dev/sd<span class="variable">$i</span>`\", RUN+=\"/bin/sh -c 'mknod /dev/asm-disk<span class="variable">$i</span> b  \$major \$minor; chown grid:asmadmin /dev/asm-disk<span class="variable">$i</span>; chmod 0660 /dev/asm-disk<span class="variable">$i</span>'\""</span> &gt;&gt; /etc/udev/rules.d/99-oracle-asmdevices.rules</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">KERNEL&#x3D;&#x3D;&quot;sd*&quot;,ENV&#123;DEVTYPE&#125;&#x3D;&#x3D;&quot;disk&quot;,SUBSYSTEM&#x3D;&#x3D;&quot;block&quot;,PROGRAM&#x3D;&#x3D;&quot;&#x2F;usr&#x2F;lib&#x2F;udev&#x2F;scsi_id -g -u -d $devnode&quot;,RESULT&#x3D;&#x3D;&quot;36001405d8e73735d6e44e1d9a5f3f461&quot;, RUN+&#x3D;&quot;&#x2F;bin&#x2F;sh -c &#39;mknod &#x2F;dev&#x2F;asm-diskc b  $major $minor; chown grid:asmadmin &#x2F;dev&#x2F;asm-diskc; chmod 0660 &#x2F;dev&#x2F;asm-diskc&#39;&quot;</span><br><span class="line">KERNEL&#x3D;&#x3D;&quot;sd*&quot;,ENV&#123;DEVTYPE&#125;&#x3D;&#x3D;&quot;disk&quot;,SUBSYSTEM&#x3D;&#x3D;&quot;block&quot;,PROGRAM&#x3D;&#x3D;&quot;&#x2F;usr&#x2F;lib&#x2F;udev&#x2F;scsi_id -g -u -d $devnode&quot;,RESULT&#x3D;&#x3D;&quot;36001405315cda11ab7d4f1f9f7d36085&quot;, RUN+&#x3D;&quot;&#x2F;bin&#x2F;sh -c &#39;mknod &#x2F;dev&#x2F;asm-diskd b  $major $minor; chown grid:asmadmin &#x2F;dev&#x2F;asm-diskd; chmod 0660 &#x2F;dev&#x2F;asm-diskd&#39;&quot;</span><br><span class="line">KERNEL&#x3D;&#x3D;&quot;sd*&quot;,ENV&#123;DEVTYPE&#125;&#x3D;&#x3D;&quot;disk&quot;,SUBSYSTEM&#x3D;&#x3D;&quot;block&quot;,PROGRAM&#x3D;&#x3D;&quot;&#x2F;usr&#x2F;lib&#x2F;udev&#x2F;scsi_id -g -u -d $devnode&quot;,RESULT&#x3D;&#x3D;&quot;360014055beb5701c4f54803b0c9b43b6&quot;, RUN+&#x3D;&quot;&#x2F;bin&#x2F;sh -c &#39;mknod &#x2F;dev&#x2F;asm-diske b  $major $minor; chown grid:asmadmin &#x2F;dev&#x2F;asm-diske; chmod 0660 &#x2F;dev&#x2F;asm-diske&#39;&quot;</span><br><span class="line">KERNEL&#x3D;&#x3D;&quot;sd*&quot;,ENV&#123;DEVTYPE&#125;&#x3D;&#x3D;&quot;disk&quot;,SUBSYSTEM&#x3D;&#x3D;&quot;block&quot;,PROGRAM&#x3D;&#x3D;&quot;&#x2F;usr&#x2F;lib&#x2F;udev&#x2F;scsi_id -g -u -d $devnode&quot;,RESULT&#x3D;&#x3D;&quot;3600140598d211f7135f447993f791450&quot;, RUN+&#x3D;&quot;&#x2F;bin&#x2F;sh -c &#39;mknod &#x2F;dev&#x2F;asm-diskf b  $major $minor; chown grid:asmadmin &#x2F;dev&#x2F;asm-diskf; chmod 0660 &#x2F;dev&#x2F;asm-diskf&#39;&quot;</span><br><span class="line">KERNEL&#x3D;&#x3D;&quot;sd*&quot;,ENV&#123;DEVTYPE&#125;&#x3D;&#x3D;&quot;disk&quot;,SUBSYSTEM&#x3D;&#x3D;&quot;block&quot;,PROGRAM&#x3D;&#x3D;&quot;&#x2F;usr&#x2F;lib&#x2F;udev&#x2F;scsi_id -g -u -d $devnode&quot;,RESULT&#x3D;&#x3D;&quot;36001405fdd6814654ed4e3289bca25dc&quot;, RUN+&#x3D;&quot;&#x2F;bin&#x2F;sh -c &#39;mknod &#x2F;dev&#x2F;asm-diskg b  $major $minor; chown grid:asmadmin &#x2F;dev&#x2F;asm-diskg; chmod 0660 &#x2F;dev&#x2F;asm-diskg&#39;&quot;</span><br><span class="line">KERNEL&#x3D;&#x3D;&quot;sd*&quot;,ENV&#123;DEVTYPE&#125;&#x3D;&#x3D;&quot;disk&quot;,SUBSYSTEM&#x3D;&#x3D;&quot;block&quot;,PROGRAM&#x3D;&#x3D;&quot;&#x2F;usr&#x2F;lib&#x2F;udev&#x2F;scsi_id -g -u -d $devnode&quot;,RESULT&#x3D;&#x3D;&quot;360014054e87839630c742749c47cfbbe&quot;, RUN+&#x3D;&quot;&#x2F;bin&#x2F;sh -c &#39;mknod &#x2F;dev&#x2F;asm-diskh b  $major $minor; chown grid:asmadmin &#x2F;dev&#x2F;asm-diskh; chmod 0660 &#x2F;dev&#x2F;asm-diskh&#39;&quot;</span><br><span class="line">KERNEL&#x3D;&#x3D;&quot;sd*&quot;,ENV&#123;DEVTYPE&#125;&#x3D;&#x3D;&quot;disk&quot;,SUBSYSTEM&#x3D;&#x3D;&quot;block&quot;,PROGRAM&#x3D;&#x3D;&quot;&#x2F;usr&#x2F;lib&#x2F;udev&#x2F;scsi_id -g -u -d $devnode&quot;,RESULT&#x3D;&#x3D;&quot;360014051a51f44f304c4779a4dc1db5b&quot;, RUN+&#x3D;&quot;&#x2F;bin&#x2F;sh -c &#39;mknod &#x2F;dev&#x2F;asm-diski b  $major $minor; chown grid:asmadmin &#x2F;dev&#x2F;asm-diski; chmod 0660 &#x2F;dev&#x2F;asm-diski&#39;&quot;</span><br><span class="line">KERNEL&#x3D;&#x3D;&quot;sd*&quot;,ENV&#123;DEVTYPE&#125;&#x3D;&#x3D;&quot;disk&quot;,SUBSYSTEM&#x3D;&#x3D;&quot;block&quot;,PROGRAM&#x3D;&#x3D;&quot;&#x2F;usr&#x2F;lib&#x2F;udev&#x2F;scsi_id -g -u -d $devnode&quot;,RESULT&#x3D;&#x3D;&quot;36001405c54256a24d134511a2728470b&quot;, RUN+&#x3D;&quot;&#x2F;bin&#x2F;sh -c &#39;mknod &#x2F;dev&#x2F;asm-diskj b  $major $minor; chown grid:asmadmin &#x2F;dev&#x2F;asm-diskj; chmod 0660 &#x2F;dev&#x2F;asm-diskj&#39;&quot;</span><br><span class="line">KERNEL&#x3D;&#x3D;&quot;sd*&quot;,ENV&#123;DEVTYPE&#125;&#x3D;&#x3D;&quot;disk&quot;,SUBSYSTEM&#x3D;&#x3D;&quot;block&quot;,PROGRAM&#x3D;&#x3D;&quot;&#x2F;usr&#x2F;lib&#x2F;udev&#x2F;scsi_id -g -u -d $devnode&quot;,RESULT&#x3D;&#x3D;&quot;360014059692987bb6644c7b94a12ebc3&quot;, RUN+&#x3D;&quot;&#x2F;bin&#x2F;sh -c &#39;mknod &#x2F;dev&#x2F;asm-diskk b  $major $minor; chown grid:asmadmin &#x2F;dev&#x2F;asm-diskk; chmod 0660 &#x2F;dev&#x2F;asm-diskk&#39;&quot;</span><br><span class="line">KERNEL&#x3D;&#x3D;&quot;sd*&quot;,ENV&#123;DEVTYPE&#125;&#x3D;&#x3D;&quot;disk&quot;,SUBSYSTEM&#x3D;&#x3D;&quot;block&quot;,PROGRAM&#x3D;&#x3D;&quot;&#x2F;usr&#x2F;lib&#x2F;udev&#x2F;scsi_id -g -u -d $devnode&quot;,RESULT&#x3D;&#x3D;&quot;36001405dc34ba4b43de468bb0e742bf0&quot;, RUN+&#x3D;&quot;&#x2F;bin&#x2F;sh -c &#39;mknod &#x2F;dev&#x2F;asm-diskl b  $major $minor; chown grid:asmadmin &#x2F;dev&#x2F;asm-diskl; chmod 0660 &#x2F;dev&#x2F;asm-diskl&#39;&quot;</span><br><span class="line">KERNEL&#x3D;&#x3D;&quot;sd*&quot;,ENV&#123;DEVTYPE&#125;&#x3D;&#x3D;&quot;disk&quot;,SUBSYSTEM&#x3D;&#x3D;&quot;block&quot;,PROGRAM&#x3D;&#x3D;&quot;&#x2F;usr&#x2F;lib&#x2F;udev&#x2F;scsi_id -g -u -d $devnode&quot;,RESULT&#x3D;&#x3D;&quot;36001405b2d80fc6807b4bf6950c8ce78&quot;, RUN+&#x3D;&quot;&#x2F;bin&#x2F;sh -c &#39;mknod &#x2F;dev&#x2F;asm-diskm b  $major $minor; chown grid:asmadmin &#x2F;dev&#x2F;asm-diskm; chmod 0660 &#x2F;dev&#x2F;asm-diskm&#39;&quot;</span><br><span class="line">KERNEL&#x3D;&#x3D;&quot;sd*&quot;,ENV&#123;DEVTYPE&#125;&#x3D;&#x3D;&quot;disk&quot;,SUBSYSTEM&#x3D;&#x3D;&quot;block&quot;,PROGRAM&#x3D;&#x3D;&quot;&#x2F;usr&#x2F;lib&#x2F;udev&#x2F;scsi_id -g -u -d $devnode&quot;,RESULT&#x3D;&#x3D;&quot;360014051d939f0d61b04d40b0be5a313&quot;, RUN+&#x3D;&quot;&#x2F;bin&#x2F;sh -c &#39;mknod &#x2F;dev&#x2F;asm-diskn b  $major $minor; chown grid:asmadmin &#x2F;dev&#x2F;asm-diskn; chmod 0660 &#x2F;dev&#x2F;asm-diskn&#39;&quot;</span><br></pre></td></tr></table></figure><p>重启服务</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># &#x2F;sbin&#x2F;udevadm trigger --type&#x3D;devices --action&#x3D;change</span><br><span class="line"># &#x2F;sbin&#x2F;udevadm control --reload</span><br></pre></td></tr></table></figure><p>另一种方式</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> f g h i j k l m; <span class="keyword">do</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"KERNEL==\"dm-*\", BUS==\"block\", PROGRAM==\"/usr/lib/udev/scsi_id --whitelisted --replace-whitespace --device=/dev/\$name\",RESULT==\"`/usr/lib/udev/scsi_id --whitelisted --replace-whitespace --device=/dev/sd<span class="variable">$i</span>`\",NAME=\"asm-disk<span class="variable">$i</span>\",OWNER=\"grid\",GROUP=\"asmadmin\",MODE=\"0660\""</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">KERNEL&#x3D;&#x3D;&quot;dm-*&quot;, BUS&#x3D;&#x3D;&quot;block&quot;, PROGRAM&#x3D;&#x3D;&quot;&#x2F;usr&#x2F;lib&#x2F;udev&#x2F;scsi_id --whitelisted --replace-whitespace --device&#x3D;&#x2F;dev&#x2F;$name&quot;,RESULT&#x3D;&#x3D;&quot;3600140598d211f7135f447993f791450&quot;,NAME&#x3D;&quot;asm-diskf&quot;,OWNER&#x3D;&quot;grid&quot;,GROUP&#x3D;&quot;asmadmin&quot;,MODE&#x3D;&quot;0660&quot;</span><br><span class="line">KERNEL&#x3D;&#x3D;&quot;dm-*&quot;, BUS&#x3D;&#x3D;&quot;block&quot;, PROGRAM&#x3D;&#x3D;&quot;&#x2F;usr&#x2F;lib&#x2F;udev&#x2F;scsi_id --whitelisted --replace-whitespace --device&#x3D;&#x2F;dev&#x2F;$name&quot;,RESULT&#x3D;&#x3D;&quot;36001405fdd6814654ed4e3289bca25dc&quot;,NAME&#x3D;&quot;asm-diskg&quot;,OWNER&#x3D;&quot;grid&quot;,GROUP&#x3D;&quot;asmadmin&quot;,MODE&#x3D;&quot;0660&quot;</span><br><span class="line">KERNEL&#x3D;&#x3D;&quot;dm-*&quot;, BUS&#x3D;&#x3D;&quot;block&quot;, PROGRAM&#x3D;&#x3D;&quot;&#x2F;usr&#x2F;lib&#x2F;udev&#x2F;scsi_id --whitelisted --replace-whitespace --device&#x3D;&#x2F;dev&#x2F;$name&quot;,RESULT&#x3D;&#x3D;&quot;360014054e87839630c742749c47cfbbe&quot;,NAME&#x3D;&quot;asm-diskh&quot;,OWNER&#x3D;&quot;grid&quot;,GROUP&#x3D;&quot;asmadmin&quot;,MODE&#x3D;&quot;0660&quot;</span><br><span class="line">KERNEL&#x3D;&#x3D;&quot;dm-*&quot;, BUS&#x3D;&#x3D;&quot;block&quot;, PROGRAM&#x3D;&#x3D;&quot;&#x2F;usr&#x2F;lib&#x2F;udev&#x2F;scsi_id --whitelisted --replace-whitespace --device&#x3D;&#x2F;dev&#x2F;$name&quot;,RESULT&#x3D;&#x3D;&quot;360014051a51f44f304c4779a4dc1db5b&quot;,NAME&#x3D;&quot;asm-diski&quot;,OWNER&#x3D;&quot;grid&quot;,GROUP&#x3D;&quot;asmadmin&quot;,MODE&#x3D;&quot;0660&quot;</span><br><span class="line">KERNEL&#x3D;&#x3D;&quot;dm-*&quot;, BUS&#x3D;&#x3D;&quot;block&quot;, PROGRAM&#x3D;&#x3D;&quot;&#x2F;usr&#x2F;lib&#x2F;udev&#x2F;scsi_id --whitelisted --replace-whitespace --device&#x3D;&#x2F;dev&#x2F;$name&quot;,RESULT&#x3D;&#x3D;&quot;36001405c54256a24d134511a2728470b&quot;,NAME&#x3D;&quot;asm-diskj&quot;,OWNER&#x3D;&quot;grid&quot;,GROUP&#x3D;&quot;asmadmin&quot;,MODE&#x3D;&quot;0660&quot;</span><br><span class="line">KERNEL&#x3D;&#x3D;&quot;dm-*&quot;, BUS&#x3D;&#x3D;&quot;block&quot;, PROGRAM&#x3D;&#x3D;&quot;&#x2F;usr&#x2F;lib&#x2F;udev&#x2F;scsi_id --whitelisted --replace-whitespace --device&#x3D;&#x2F;dev&#x2F;$name&quot;,RESULT&#x3D;&#x3D;&quot;360014059692987bb6644c7b94a12ebc3&quot;,NAME&#x3D;&quot;asm-diskk&quot;,OWNER&#x3D;&quot;grid&quot;,GROUP&#x3D;&quot;asmadmin&quot;,MODE&#x3D;&quot;0660&quot;</span><br><span class="line">KERNEL&#x3D;&#x3D;&quot;dm-*&quot;, BUS&#x3D;&#x3D;&quot;block&quot;, PROGRAM&#x3D;&#x3D;&quot;&#x2F;usr&#x2F;lib&#x2F;udev&#x2F;scsi_id --whitelisted --replace-whitespace --device&#x3D;&#x2F;dev&#x2F;$name&quot;,RESULT&#x3D;&#x3D;&quot;36001405dc34ba4b43de468bb0e742bf0&quot;,NAME&#x3D;&quot;asm-diskl&quot;,OWNER&#x3D;&quot;grid&quot;,GROUP&#x3D;&quot;asmadmin&quot;,MODE&#x3D;&quot;0660&quot;</span><br><span class="line">KERNEL&#x3D;&#x3D;&quot;dm-*&quot;, BUS&#x3D;&#x3D;&quot;block&quot;, PROGRAM&#x3D;&#x3D;&quot;&#x2F;usr&#x2F;lib&#x2F;udev&#x2F;scsi_id --whitelisted --replace-whitespace --device&#x3D;&#x2F;dev&#x2F;$name&quot;,RESULT&#x3D;&#x3D;&quot;36001405b2d80fc6807b4bf6950c8ce78&quot;,NAME&#x3D;&quot;asm-diskm&quot;,OWNER&#x3D;&quot;grid&quot;,GROUP&#x3D;&quot;asmadmin&quot;,MODE&#x3D;&quot;0660&quot;</span><br></pre></td></tr></table></figure><h2 id="数据库软件准备"><a href="#数据库软件准备" class="headerlink" title="数据库软件准备"></a>数据库软件准备</h2><h3 id="上传安装文件"><a href="#上传安装文件" class="headerlink" title="上传安装文件"></a>上传安装文件</h3><p>上传至 /soft</p><h3 id="解压文件"><a href="#解压文件" class="headerlink" title="解压文件"></a>解压文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># su - grid</span><br><span class="line">$ unzip &#x2F;soft&#x2F;LINUX.X64_193000_grid_home.zip -d &#x2F;u01&#x2F;app&#x2F;19.3.0&#x2F;grid</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># su - oracle</span><br><span class="line">$ unzip &#x2F;soft&#x2F;LINUX.X64_193000_db_home.zip -d &#x2F;u01&#x2F;app&#x2F;oracle&#x2F;product&#x2F;19.3.0&#x2F;dbhome_1</span><br></pre></td></tr></table></figure><p><strong>注意</strong>：18c 起解压缩的文件所在目录就是 grid home，所以解压的时候，就要把文件解压到之前定的 GRID_HOME 下。</p><h2 id="卸载"><a href="#卸载" class="headerlink" title="卸载"></a>卸载</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># kill -9 &#96;ps -ef|grep d.bin| grep -v grep | awk &#39;&#123;print $2&#125;&#39;&#96;</span><br><span class="line"># rm -rf &#x2F;etc&#x2F;ora*</span><br><span class="line"># rm -rf &#x2F;var&#x2F;tmp&#x2F;.oracle</span><br><span class="line"># rm -rf &#x2F;tmp&#x2F;*</span><br><span class="line"># rm -rf &#x2F;u01&#x2F;app&#x2F;*</span><br></pre></td></tr></table></figure><p>清除 OCR、Voting 及数据库使用过的磁盘</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># dd if&#x3D;&#x2F;dev&#x2F;zero of&#x3D;&#x2F;dev&#x2F;raw&#x2F;raw1 bs&#x3D;1024 count&#x3D;1</span><br><span class="line"># dd if&#x3D;&#x2F;dev&#x2F;zero of&#x3D;&#x2F;dev&#x2F;asm-diski bs&#x3D;1024 count&#x3D;1</span><br><span class="line"># dd if&#x3D;&#x2F;dev&#x2F;zero of&#x3D;&#x2F;dev&#x2F;sdb8 bs&#x3D;1024 count&#x3D;1</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># hexdump -n 1024 -C &#x2F;dev&#x2F;asm-diski</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># oracleasm querydisk -p asmlib1</span><br></pre></td></tr></table></figure><h2 id="图形化安装-grid-和-db"><a href="#图形化安装-grid-和-db" class="headerlink" title="图形化安装 grid 和 db"></a>图形化安装 grid 和 db</h2><blockquote><p><a href="http://blog.itpub.net/26736162/viewspace-2637602/" target="_blank" rel="noopener">http://blog.itpub.net/26736162/viewspace-2637602/</a></p></blockquote><h3 id="grid"><a href="#grid" class="headerlink" title="grid"></a>grid</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># su - grid</span><br><span class="line">$ export DISPLAY&#x3D;10.0.8.200:0.0</span><br><span class="line">$ &#x2F;u01&#x2F;app&#x2F;19.3.0&#x2F;grid&#x2F;gridSetup.sh</span><br></pre></td></tr></table></figure><h3 id="db"><a href="#db" class="headerlink" title="db"></a>db</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># su - oracle</span><br><span class="line">$ cd $ORACLE_HOME</span><br><span class="line">$ export DISPLAY&#x3D;10.0.8.200:0.0</span><br><span class="line">$ .&#x2F;runInstaller</span><br></pre></td></tr></table></figure><h2 id="静默安装-grid"><a href="#静默安装-grid" class="headerlink" title="静默安装 grid"></a>静默安装 grid</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>响应文件：<code>/u01/app/19.3.0/grid/inventory/response/grid_install.rsp</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"># su - grid</span><br><span class="line">$ &#x2F;u01&#x2F;app&#x2F;19.3.0&#x2F;grid&#x2F;gridSetup.sh -silent  -force -noconfig  -ignorePrereq \</span><br><span class="line">oracle.install.responseFileVersion&#x3D;&#x2F;oracle&#x2F;install&#x2F;rspfmt_crsinstall_response_schema_v19.0.0 \</span><br><span class="line">INVENTORY_LOCATION&#x3D;&#x2F;u01&#x2F;app&#x2F;oraInventory \</span><br><span class="line">oracle.install.option&#x3D;HA_CONFIG \</span><br><span class="line">ORACLE_BASE&#x3D;&#x2F;u01&#x2F;app&#x2F;grid \</span><br><span class="line">oracle.install.asm.OSDBA&#x3D;asmdba \</span><br><span class="line">oracle.install.asm.OSOPER&#x3D;asmoper \</span><br><span class="line">oracle.install.asm.OSASM&#x3D;asmadmin \</span><br><span class="line">oracle.install.asm.SYSASMPassword&#x3D;&lt;password&gt; \</span><br><span class="line">oracle.install.asm.monitorPassword&#x3D;&lt;password&gt; \</span><br><span class="line">oracle.install.crs.config.scanType&#x3D;LOCAL_SCAN \</span><br><span class="line">oracle.install.crs.config.ClusterConfiguration&#x3D;STANDALONE \</span><br><span class="line">oracle.install.crs.config.configureAsExtendedCluster&#x3D;false \</span><br><span class="line">oracle.install.crs.config.useIPMI&#x3D;false \</span><br><span class="line">oracle.install.asm.storageOption&#x3D;ASM \</span><br><span class="line">oracle.install.asm.diskGroup.name&#x3D;OCR \</span><br><span class="line">oracle.install.asm.diskGroup.redundancy&#x3D;EXTERNAL \</span><br><span class="line">oracle.install.asm.diskGroup.AUSize&#x3D;4 \</span><br><span class="line">oracle.install.asm.diskGroup.disksWithFailureGroupNames&#x3D;&#x2F;dev&#x2F;raw&#x2F;raw1,,&#x2F;dev&#x2F;raw&#x2F;raw2,,&#x2F;dev&#x2F;raw&#x2F;raw3, \</span><br><span class="line">oracle.install.asm.diskGroup.disks&#x3D;&#x2F;dev&#x2F;raw&#x2F;raw1,&#x2F;dev&#x2F;raw&#x2F;raw2,&#x2F;dev&#x2F;raw&#x2F;raw3 \</span><br><span class="line">oracle.install.asm.diskGroup.diskDiscoveryString&#x3D;&#x2F;dev&#x2F;raw&#x2F;raw* \</span><br><span class="line">oracle.install.crs.rootconfig.executeRootScript&#x3D;false</span><br></pre></td></tr></table></figure><p>根据提示，使用 root 跑脚本</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># &#x2F;u01&#x2F;app&#x2F;oraInventory&#x2F;orainstRoot.sh</span><br><span class="line"># &#x2F;u01&#x2F;app&#x2F;19.3.0&#x2F;grid&#x2F;root.sh</span><br></pre></td></tr></table></figure><p>在使用 grid 跑脚本</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ &#x2F;u01&#x2F;app&#x2F;19.3.0&#x2F;grid&#x2F;gridSetup.sh -silent -executeConfigTools -responseFile &#x2F;u01&#x2F;app&#x2F;19.3.0&#x2F;grid&#x2F;install&#x2F;response&#x2F;grid_2020-03-27_03-19-28PM.rsp</span><br></pre></td></tr></table></figure><h3 id="创建-ASM-实例"><a href="#创建-ASM-实例" class="headerlink" title="创建 ASM 实例"></a>创建 ASM 实例</h3><p>图形化创建</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># su - grid</span><br><span class="line">$ &#x2F;u01&#x2F;app&#x2F;19.3.0&#x2F;grid&#x2F;bin&#x2F;asmca</span><br></pre></td></tr></table></figure><p>静默</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># su - grid</span><br><span class="line">$ &#x2F;u01&#x2F;app&#x2F;19.3.0&#x2F;grid&#x2F;bin&#x2F;asmca -silent -configureASM \</span><br><span class="line">-sysAsmPassword &lt;password&gt; \</span><br><span class="line">-asmsnmpPassword &lt;password&gt; \</span><br><span class="line">-diskString &#39;&#x2F;dev&#x2F;raw&#x2F;raw*&#39; \</span><br><span class="line">-diskGroupName OCR \</span><br><span class="line">-diskList &#x2F;dev&#x2F;raw&#x2F;raw1,&#x2F;dev&#x2F;raw&#x2F;raw2,&#x2F;dev&#x2F;raw&#x2F;raw3 \</span><br><span class="line">-redundancy EXTERNAL</span><br></pre></td></tr></table></figure><h3 id="创建监听"><a href="#创建监听" class="headerlink" title="创建监听"></a>创建监听</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># su - grid</span><br><span class="line">$ netca -silent -responsefile $ORACLE_HOME&#x2F;assistants&#x2F;netca&#x2F;netca.rsp</span><br><span class="line">$ netca -silent -responsefile $ORACLE_HOME&#x2F;assistants&#x2F;netca&#x2F;netca.rsp -instype custom -listener LISTENER -lisport 1521</span><br><span class="line">$ netca -silent -responsefile $ORACLE_HOME&#x2F;assistants&#x2F;netca&#x2F;netca.rsp -instype custom -listener LISTENER_1522 -lisport 1522</span><br></pre></td></tr></table></figure><h3 id="创建-DATA-和-FRA-磁盘组"><a href="#创建-DATA-和-FRA-磁盘组" class="headerlink" title="创建 DATA 和 FRA 磁盘组"></a>创建 DATA 和 FRA 磁盘组</h3><p>查询 ASM 磁盘</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># $GRID_HOME&#x2F;bin&#x2F;kfod disks&#x3D;asm  st&#x3D;true ds&#x3D;true cluster&#x3D;true</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sql&gt; alter system set asm_diskstring&#x3D;&#39;&#x2F;dev&#x2F;raw&#x2F;raw*&#39;,&#39;&#x2F;dev&#x2F;asm-*&#39;;</span><br><span class="line"></span><br><span class="line">sql&gt; col name format a10</span><br><span class="line">sql&gt; set line 9999</span><br><span class="line">sql&gt; col path format a25</span><br><span class="line">sql&gt; select GROUP_NUMBER,path,name,disk_number,total_mb,free_mb,CREATE_DATE,MOUNT_STATUS,MOUNT_DATE from v$asm_disk order by GROUP_NUMBER desc,disk_number;</span><br><span class="line">sql&gt; select name,state,free_mb,required_mirror_free_mb,usable_file_mb from v$asm_diskgroup;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># su - grid</span><br><span class="line">$ asmcmd</span><br><span class="line">ASMCMD&gt; create diskgroup DATA external redundancy disk &#39;&#x2F;dev&#x2F;asm-diski&#39;,&#39;&#x2F;dev&#x2F;asm-diskj&#39;,&#39;&#x2F;dev&#x2F;asm-diskk&#39;  ATTRIBUTE &#39;compatible.rdbms&#39; &#x3D; &#39;19.0&#39;, &#39;compatible.asm&#39; &#x3D; &#39;19.0&#39;;</span><br><span class="line">ASMCMD&gt; create diskgroup FRA external redundancy disk &#39;&#x2F;dev&#x2F;asm-diskl&#39;,&#39;&#x2F;dev&#x2F;asm-diskm&#39;,&#39;&#x2F;dev&#x2F;asm-diskn&#39;  ATTRIBUTE &#39;compatible.rdbms&#39; &#x3D; &#39;19.0&#39;, &#39;compatible.asm&#39; &#x3D; &#39;19.0&#39;;</span><br></pre></td></tr></table></figure><h2 id="静默安装-db-软件"><a href="#静默安装-db-软件" class="headerlink" title="静默安装 db 软件"></a>静默安装 db 软件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># su - oracle</span><br><span class="line">$ cd $ORACLE_HOME</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ &#x2F;u01&#x2F;app&#x2F;oracle&#x2F;product&#x2F;19.3.0&#x2F;dbhome_1&#x2F;runInstaller -silent  -force -noconfig  -ignorePrereq \</span><br><span class="line">oracle.install.responseFileVersion&#x3D;oracle.install.responseFileVersion&#x3D;&#x2F;oracle&#x2F;install&#x2F;rspfmt_dbinstall_response_schema_v19.0.0 \</span><br><span class="line">oracle.install.option&#x3D;INSTALL_DB_SWONLY \</span><br><span class="line">UNIX_GROUP_NAME&#x3D;oinstall \</span><br><span class="line">INVENTORY_LOCATION&#x3D;&#x2F;u01&#x2F;app&#x2F;oraInventory \</span><br><span class="line">ORACLE_BASE&#x3D;&#x2F;u01&#x2F;app&#x2F;oracle \</span><br><span class="line">oracle.install.db.InstallEdition&#x3D;EE \</span><br><span class="line">oracle.install.db.OSDBA_GROUP&#x3D;dba \</span><br><span class="line">oracle.install.db.OSOPER_GROUP&#x3D;oper \</span><br><span class="line">oracle.install.db.OSBACKUPDBA_GROUP&#x3D;backupdba \</span><br><span class="line">oracle.install.db.OSDGDBA_GROUP&#x3D;dgdba \</span><br><span class="line">oracle.install.db.OSKMDBA_GROUP&#x3D;kmdba \</span><br><span class="line">oracle.install.db.OSRACDBA_GROUP&#x3D;racdba</span><br></pre></td></tr></table></figure><p>以 root 用户，执行脚本</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># &#x2F;u01&#x2F;app&#x2F;oracle&#x2F;product&#x2F;19.3.0&#x2F;dbhome_1&#x2F;root.sh</span><br></pre></td></tr></table></figure><h2 id="dbca-静默建库"><a href="#dbca-静默建库" class="headerlink" title="dbca 静默建库"></a>dbca 静默建库</h2><p>PDB</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># su - oracle</span><br><span class="line">$ dbca -silent -ignorePreReqs  -ignorePrereqFailure  -createDatabase -templateName General_Purpose.dbc -responseFile NO_VALUE \</span><br><span class="line">-gdbname ocp19cdb -sid ocp19cdb \</span><br><span class="line">-createAsContainerDatabase TRUE \</span><br><span class="line">-sysPassword &lt;password&gt; -systemPassword &lt;password&gt; -pdbAdminPassword &lt;password&gt; -dbsnmpPassword &lt;password&gt; \</span><br><span class="line">-datafileDestination &#39;+DATA&#39; -recoveryAreaDestination &#39;+FRA&#39; \</span><br><span class="line">-storageType ASM \</span><br><span class="line">-characterset AL32UTF8 \</span><br><span class="line">-sampleSchema true \</span><br><span class="line">-totalMemory 1024 \</span><br><span class="line">-databaseType MULTIPURPOSE \</span><br><span class="line">-emConfiguration NONE</span><br></pre></td></tr></table></figure><p>CDB</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># su - oracle</span><br><span class="line">$ dbca -silent -ignorePreReqs  -ignorePrereqFailure  -createDatabase -templateName General_Purpose.dbc -responseFile NO_VALUE \</span><br><span class="line">-gdbname ocp19sdb -sid ocpsdb \</span><br><span class="line">-createAsContainerDatabase FALSE \</span><br><span class="line">-sysPassword &lt;password&gt; -systemPassword &lt;password&gt; -dbsnmpPassword &lt;password&gt; \</span><br><span class="line">-datafileDestination &#39;&#x2F;u01&#x2F;app&#x2F;oracle&#x2F;oradata&#39; -recoveryAreaDestination &#39;&#x2F;u01&#x2F;app&#x2F;oracle&#x2F;flash_recovery_area&#39; \</span><br><span class="line">-storageType FS \</span><br><span class="line">-characterset ZHS16GBK \</span><br><span class="line">-sampleSchema true \</span><br><span class="line">-totalMemory 600 \</span><br><span class="line">-databaseType MULTIPURPOSE \</span><br><span class="line">-emConfiguration NONE</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> oracle </tag>
            
            <tag> ocp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>OCP 0001 Install CentOS 7</title>
      <link href="/blog/2020/04/04/OCP-0001-Install-CentOS-7/"/>
      <url>/blog/2020/04/04/OCP-0001-Install-CentOS-7/</url>
      
        <content type="html"><![CDATA[<p>Install CentOS 7</p><a id="more"></a><h1 id="Install-CentOS-7"><a href="#Install-CentOS-7" class="headerlink" title="Install CentOS 7"></a>Install CentOS 7</h1><h2 id="搭建-CentOS-7"><a href="#搭建-CentOS-7" class="headerlink" title="搭建 CentOS 7"></a>搭建 CentOS 7</h2><blockquote><p><a href="http://blog.itpub.net/26736162/viewspace-2214076/" target="_blank" rel="noopener">http://blog.itpub.net/26736162/viewspace-2214076/</a></p></blockquote><h2 id="基本配置"><a href="#基本配置" class="headerlink" title="基本配置"></a>基本配置</h2><ol><li>中文环境</li><li>静态 ip</li><li>修改主机名</li><li>配置本地 yum 源</li><li>安装 rlwrap</li><li>abrt-clistatustimedout</li></ol><h3 id="中文环境切换为英文环境"><a href="#中文环境切换为英文环境" class="headerlink" title="中文环境切换为英文环境"></a>中文环境切换为英文环境</h3><p>编辑 <code>/etc/locale.conf</code> 文件</p><ul><li>修改 i18n，将 zh_CN 修改为 en_US</li><li>重启 shell 环境或 OS 系统</li></ul><h3 id="设置主机静态-IP-地址"><a href="#设置主机静态-IP-地址" class="headerlink" title="设置主机静态 IP 地址"></a>设置主机静态 IP 地址</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># vi &#x2F;etc&#x2F;sysconfig&#x2F;network-scripts&#x2F;ifcfg-ensXX</span><br></pre></td></tr></table></figure><p>示例</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">TYPE&#x3D;Ethernet</span><br><span class="line">DEVICE&#x3D;ens32</span><br><span class="line">BOOTPROTO&#x3D;none</span><br><span class="line">ONBOOT&#x3D;yes</span><br><span class="line">IPADDR&#x3D;10.0.8.101</span><br><span class="line">PREFIX&#x3D;24</span><br><span class="line">GATEWAY&#x3D;10.0.8.1</span><br><span class="line">DNS1&#x3D;10.0.8.1</span><br></pre></td></tr></table></figure><p>重启网络服务</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># service network restart</span><br></pre></td></tr></table></figure><h3 id="修改主机名"><a href="#修改主机名" class="headerlink" title="修改主机名"></a>修改主机名</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># hostnamectl set-hostname asm19c01</span><br></pre></td></tr></table></figure><p>修改 /etc/hosts 文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">10.0.8.101 asm19c01</span><br></pre></td></tr></table></figure><h3 id="配置-YUM-源"><a href="#配置-YUM-源" class="headerlink" title="配置 YUM 源"></a>配置 YUM 源</h3><p>本地（光驱）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># mkdir &#x2F;mnt&#x2F;iso&#x2F;centos7</span><br><span class="line"># mount &#x2F;dev&#x2F;sr0 &#x2F;mnt&#x2F;iso&#x2F;centos7</span><br><span class="line"></span><br><span class="line"># vi &#x2F;etc&#x2F;fstab</span><br><span class="line">&#x2F;dev&#x2F;sr0 &#x2F;mnt&#x2F;iso&#x2F;centos7 iso9660 defaults 0 0</span><br><span class="line"></span><br><span class="line"># vi &#x2F;etc&#x2F;yum.repos.d&#x2F;iso.repo</span><br><span class="line">[iso]</span><br><span class="line">name&#x3D;iso</span><br><span class="line">baseurl&#x3D;file:&#x2F;&#x2F;&#x2F;mnt&#x2F;iso&#x2F;centos7</span><br></pre></td></tr></table></figure><p>外部源</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># cd &#x2F;etc&#x2F;yum.repos.d&#x2F;</span><br><span class="line"># mkdir old</span><br><span class="line"># mv *.repo old&#x2F;</span><br><span class="line"># vi base.repo</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[base]</span><br><span class="line">name&#x3D;base</span><br><span class="line">baseurl&#x3D;https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;centos&#x2F;$releasever&#x2F;os&#x2F;x86_64&#x2F;</span><br><span class="line">enabled&#x3D;1</span><br><span class="line">gpgcheck&#x3D;0</span><br></pre></td></tr></table></figure><p>安装 epel 源</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># yum install epel-release</span><br></pre></td></tr></table></figure><h3 id="安装-rlwrap"><a href="#安装-rlwrap" class="headerlink" title="安装 rlwrap"></a>安装 rlwrap</h3><p>安装</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># yum install rlwrap</span><br></pre></td></tr></table></figure><p>配置</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">alias sqlplus&#x3D;&#39;rlwrap sqlplus&#39;</span><br><span class="line">alias rman&#x3D;&#39;rlwrap rman&#39;</span><br><span class="line">alias asmcmd&#x3D;&#39;rlwrap asmcmd&#39;</span><br></pre></td></tr></table></figure><h2 id="分区（-dev-sdb）-LVM-管理"><a href="#分区（-dev-sdb）-LVM-管理" class="headerlink" title="分区（/dev/sdb） LVM 管理"></a>分区（/dev/sdb） LVM 管理</h2><blockquote><p><a href="http://blog.itpub.net/26736162/viewspace-2124620/" target="_blank" rel="noopener">http://blog.itpub.net/26736162/viewspace-2124620/</a></p></blockquote><h3 id="分区"><a href="#分区" class="headerlink" title="分区"></a>分区</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># fdisk &#x2F;dev&#x2F;sdb</span><br></pre></td></tr></table></figure><p>主分区</p><ol><li>键入 n，即 add a new partition</li><li>键入 p，即 primary partitioni</li><li>键入 1，即 1st primary partition</li><li>键入 +10g，即 10GB 分区大小</li></ol><ul><li>重复上述步骤 2 遍，创建多个主分区，在第三步键入 2、3等。</li></ul><p>扩展分区</p><ol><li>键入 n，即 add a new partition</li><li>键入 e，即 extended</li></ol><p>逻辑分区</p><ol><li>键入 n</li><li>键入 10g</li></ol><ul><li>重复上述步骤</li></ul><p>查看</p><ol><li>键入 p，即 print the partition table</li></ol><p>改分区为 Linux LVM</p><ol><li>键入 t，即 change a partition’s system id</li><li>键入 1，即 Partition number</li><li>键入 8e，即 Hex code</li></ol><ul><li>重复上述步骤，第二步键入 2、3、5、6 ……（没有 4 哦）</li></ul><p>保存</p><ol><li>键入 w，即 write table to disk and exit</li></ol><p>查看</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># fdisk -l | grep dev</span><br></pre></td></tr></table></figure><h3 id="LVM"><a href="#LVM" class="headerlink" title="LVM"></a>LVM</h3><p>创建 PV</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># pvcreate &#x2F;dev&#x2F;sdb1 &#x2F;dev&#x2F;sdb2 &#x2F;dev&#x2F;sdb3</span><br></pre></td></tr></table></figure><p>创建 VG</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># vgcreate vg_orasoft &#x2F;dev&#x2F;sdb1 &#x2F;dev&#x2F;sdb2 &#x2F;dev&#x2F;sdb3</span><br></pre></td></tr></table></figure><p>创建 LV</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># lvcreate -n lv_orasoft_u01 -L 15G vg_orasoft</span><br></pre></td></tr></table></figure><p>创建文件系统</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># mkfs.ext4 &#x2F;dev&#x2F;vg_orasoft&#x2F;lv_orasoft_u01</span><br><span class="line"># mkdir &#x2F;u01</span><br><span class="line"># mount &#x2F;dev&#x2F;vg_orasoft&#x2F;lv_orasoft_u01 &#x2F;u01</span><br></pre></td></tr></table></figure><p>键入 /etc/fstab 文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;dev&#x2F;vg_orasoft&#x2F;lv_orasoft_u01 &#x2F;u01 ext4 defaults 0 0</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> oracle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> oracle </tag>
            
            <tag> ocp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>红楼梦人物</title>
      <link href="/blog/2020/03/23/HongLouMeng-RenWu/"/>
      <url>/blog/2020/03/23/HongLouMeng-RenWu/</url>
      
        <content type="html"><![CDATA[<p>红楼梦人物</p><a id="more"></a><h1 id="红楼梦人物"><a href="#红楼梦人物" class="headerlink" title="红楼梦人物"></a>红楼梦人物</h1><pre class="mermaid">graph TD  jm(("贾母"))    jsh["贾赦 --- 邢夫人"]      jl("贾琏 --- 王熙凤")        qj(("巧姐"))    jzh["贾政 --- 王夫人"]      jby("贾宝玉")  jm --- jsh    jsh --- jl      jl --- qj  jm --- jzh    jzh --- jby</pre>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>将 github 与你的域名绑定</title>
      <link href="/blog/2020/03/12/Configuration-a-custom-domian-4-github-pages-site/"/>
      <url>/blog/2020/03/12/Configuration-a-custom-domian-4-github-pages-site/</url>
      
        <content type="html"><![CDATA[<p>将 github 与你的域名绑定</p><a id="more"></a><h1 id="将-github-与你的域名绑定"><a href="#将-github-与你的域名绑定" class="headerlink" title="将 github 与你的域名绑定"></a>将 github 与你的域名绑定</h1><h2 id="github"><a href="#github" class="headerlink" title="github"></a>github</h2><p>仓库设置中 Custom domain</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ilxy.tech</span><br></pre></td></tr></table></figure><h2 id="CNAME"><a href="#CNAME" class="headerlink" title="CNAME"></a>CNAME</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ilxy.tech</span><br></pre></td></tr></table></figure><p>注意：</p><ul><li>CNAME 文件名全大写</li><li>内容只能包含一个主机名，不建议用泛解析（*）</li></ul><h2 id="域名解析设置"><a href="#域名解析设置" class="headerlink" title="域名解析设置"></a>域名解析设置</h2><p>增加一条记录</p><table><thead><tr><th align="left">项</th><th align="left">值</th></tr></thead><tbody><tr><td align="left">记录类型</td><td align="left">A</td></tr><tr><td align="left">主机记录</td><td align="left">@</td></tr><tr><td align="left">记录值</td><td align="left">yourname.github.io 的 ip</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
          <category> github </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> github </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>markdown 中使用 mermaid</title>
      <link href="/blog/2020/03/11/Use-Mermaid-in-Markdown/"/>
      <url>/blog/2020/03/11/Use-Mermaid-in-Markdown/</url>
      
        <content type="html"><![CDATA[<p>在 markdown 中使用 mermaid、flowchat、sequence 实现图表功能。</p><a id="more"></a><h1 id="markdown-中使用-mermaid"><a href="#markdown-中使用-mermaid" class="headerlink" title="markdown 中使用 mermaid"></a>markdown 中使用 mermaid</h1><p>参考</p><blockquote><p><a href="https://mermaidjs.github.io" target="_blank" rel="noopener">https://mermaidjs.github.io</a></p></blockquote><p>用法</p><p>就是使用“ mermaid”代码块</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">...mermaid</span><br></pre></td></tr></table></figure><h1 id="流程图"><a href="#流程图" class="headerlink" title="流程图"></a>流程图</h1><p>流程图方向</p><ul><li>TB 从上到下</li><li>BT 从下到上</li><li>RL 从右到左</li><li>LR 从左到右</li><li>TD 同TB</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">graph RL</span><br><span class="line">   A --&gt; B</span><br></pre></td></tr></table></figure><pre class="mermaid">graph RL   A --> B</pre><p>基本图形</p><ul><li>id + [文字描述]矩形</li><li>id + (文字描述)圆角矩形</li><li>id + &gt;文字描述]不对称的矩形</li><li>id + {文字描述}菱形</li><li>id + ((文字描述))圆形</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">    id1[矩形]</span><br><span class="line">    id2(圆角矩形)</span><br><span class="line">    id3&gt;不对称的矩形]</span><br><span class="line">    id4&#123;菱形&#125;</span><br><span class="line">    id5((圆形))</span><br></pre></td></tr></table></figure><pre class="mermaid">graph TD    id1[矩形]    id2(圆角矩形)    id3>不对称的矩形]    id4{菱形}    id5((圆形))</pre><p>节点之间的连接</p><ul><li>A –&gt; B : A带箭头指向B</li><li>A — B : A不带箭头指向B</li><li>A -.- B : A用虚线指向B</li><li>A -.-&gt; B : A用带箭头的虚线指向B</li><li>A ==&gt; B : A用加粗的箭头指向B</li><li>A – 描述 — B : A不带箭头指向B并在中间加上文字描述</li><li>A – 描述 –&gt; B : A带箭头指向B并在中间加上文字描述</li><li>A -. 描述 .-&gt; B : A用带箭头的虚线指向B并在中间加上文字描述</li><li>A == 描述 ==&gt; B : A用加粗的箭头指向B并在中间加上文字描述</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">    A1 --&gt; B1</span><br><span class="line">    A2 --- B2</span><br><span class="line">    A3 -.- B3</span><br><span class="line">    A4 -.-&gt; B4</span><br><span class="line">    A5 &#x3D;&#x3D;&gt; B5</span><br><span class="line">    A6 -- 描述 --- B6</span><br><span class="line">    A7 -- 描述 --&gt; B7</span><br><span class="line">    A8 -. 描述 .-&gt; B8</span><br><span class="line">    A9 &#x3D;&#x3D; 描述 &#x3D;&#x3D;&gt; B9</span><br></pre></td></tr></table></figure><pre class="mermaid">graph TD    A1 --> B1    A2 --- B2    A3 -.- B3    A4 -.-> B4    A5 ==> B5    A6 -- 描述 --- B6    A7 -- 描述 --> B7    A8 -. 描述 .-> B8    A9 == 描述 ==> B9</pre><p>子流程图</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">subgraph title</span><br><span class="line">    graph definition</span><br><span class="line">end</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">graph TB</span><br><span class="line">    c1--&gt;a2</span><br><span class="line">    subgraph one</span><br><span class="line">    a1--&gt;a2</span><br><span class="line">    end</span><br><span class="line">    subgraph two</span><br><span class="line">    b1--&gt;b2</span><br><span class="line">    end</span><br><span class="line">    subgraph three</span><br><span class="line">    c1--&gt;c2</span><br><span class="line">    end</span><br></pre></td></tr></table></figure><pre class="mermaid">graph TB    c1-->a2    subgraph one    a1-->a2    end    subgraph two    b1-->b2    end    subgraph three    c1-->c2    end</pre><h1 id="时序图-sequence-diagram"><a href="#时序图-sequence-diagram" class="headerlink" title="时序图 sequence diagram"></a>时序图 sequence diagram</h1><h2 id="标准时序图"><a href="#标准时序图" class="headerlink" title="标准时序图"></a>标准时序图</h2><p>基本语法：</p><table><thead><tr><th align="left"></th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">Title:标题</td><td align="left">指定时序图的标题</td></tr><tr><td align="left">Note direction of 对象:描述</td><td align="left">在对象的某一侧添加描述。<br>direction 可以为 right/left/over；<br>对象 可以是多个对象，以“逗号”（,）作为分隔符</td></tr><tr><td align="left">participant 对象</td><td align="left">创建一个对象</td></tr><tr><td align="left">loop…end</td><td align="left">创建一个循环体</td></tr><tr><td align="left">对象A-&gt;对象B:描述</td><td align="left">绘制A与B之间的对话，以实线连接<br>-&gt; 实线实心箭头指向<br>–&gt; 虚线实心箭头指向<br>-&gt;&gt; 实线小箭头指向<br>–&gt;&gt; 虚线小箭头指向</td></tr></tbody></table><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">...sequence</span><br><span class="line">Title:时序图示例</span><br><span class="line">客户端-&gt;服务端: 我想找你拿下数据 SYN</span><br><span class="line">服务端--&gt;客户端: 我收到你的请求啦 ACK+SYN</span><br><span class="line">客户端-&gt;&gt;服务端: 我收到你的确认啦，我们开始通信吧 ACK</span><br><span class="line">Note right of 服务端: 我是一个服务端</span><br><span class="line">Note left of 客户端: 我是一个客户端</span><br><span class="line">Note over 服务端,客户端: TCP 三次握手</span><br><span class="line">participant 观察者</span><br></pre></td></tr></table></figure><div id="sequence-0"></div><h2 id="带样式时序图"><a href="#带样式时序图" class="headerlink" title="带样式时序图"></a>带样式时序图</h2><p>基本语法同标准时序图，不同的是</p><ul><li>需要使用 mermaid 解析，并在开头使用关键字 sequenceDiagram 指明</li><li>线段的样式遵循 mermaid 的解析方式<br>-&gt; ： 实线连接<br>–&gt; ：虚线连接<br>-&gt;&gt; ：实线箭头指向<br>–&gt;&gt; ：虚线箭头指向</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sequenceDiagram</span><br><span class="line">    Alice-&gt;John : Hello John, how are you ?</span><br><span class="line">    John--&gt;Alice:Great!</span><br><span class="line">    Alice-&gt;&gt;John: dont borther me !</span><br><span class="line">    John--&gt;&gt;Alice:Great!</span><br><span class="line">    Alice-xJohn: wait!</span><br><span class="line">    John--xAlice: Ok!</span><br></pre></td></tr></table></figure><pre class="mermaid">sequenceDiagram    Alice->John : Hello John, how are you ?    John-->Alice:Great!    Alice->>John: dont borther me !    John-->>Alice:Great!    Alice-xJohn: wait!    John--xAlice: Ok!</pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sequenceDiagram</span><br><span class="line">　　Alice-&gt;&gt;John: Hello John, how are you ?</span><br><span class="line">　　John--&gt;&gt;Alice: Great!</span><br><span class="line">　　Alice-&gt;&gt;John: Hung,you are better .</span><br><span class="line">　　John--&gt;&gt;Alice: yeah, Just not bad.</span><br></pre></td></tr></table></figure><pre class="mermaid">sequenceDiagram　　Alice->>John: Hello John, how are you ?　　John-->>Alice: Great!　　Alice->>John: Hung,you are better .　　John-->>Alice: yeah, Just not bad.</pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sequenceDiagram</span><br><span class="line">    participant A as Alice</span><br><span class="line">    participant J as John</span><br><span class="line">    A-&gt;&gt;J: Hello John, how are you?</span><br><span class="line">    J-&gt;&gt;A: Great!</span><br></pre></td></tr></table></figure><pre class="mermaid">sequenceDiagram    participant A as Alice    participant J as John    A->>J: Hello John, how are you?    J->>A: Great!</pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">sequenceDiagram</span><br><span class="line">    participant Alice</span><br><span class="line">    participant Bob</span><br><span class="line">    Alice-&gt;John: Hello John, how are you?</span><br><span class="line">    loop Healthcheck</span><br><span class="line">        John-&gt;John: Fight against hypochondria</span><br><span class="line">    end</span><br><span class="line">    Note right of John: Rational thoughts &lt;br&#x2F;&gt;prevail...</span><br><span class="line">    John--&gt;Alice: Great!</span><br><span class="line">    John-&gt;Bob: How about you?</span><br><span class="line">    Bob--&gt;John: Jolly good!</span><br></pre></td></tr></table></figure><pre class="mermaid">sequenceDiagram    participant Alice    participant Bob    Alice->John: Hello John, how are you?    loop Healthcheck        John->John: Fight against hypochondria    end    Note right of John: Rational thoughts <br/>prevail...    John-->Alice: Great!    John->Bob: How about you?    Bob-->John: Jolly good!</pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sequenceDiagram</span><br><span class="line">  Alice -&gt; John: Hello John, how are you</span><br><span class="line">  Note over Alice,John: A typical interaction</span><br></pre></td></tr></table></figure><pre class="mermaid">sequenceDiagram  Alice -> John: Hello John, how are you  Note over Alice,John: A typical interaction</pre><p>对象激活</p><p>在时序图中可以激活和去激活一个参与者，激活/去激活使用各自单独的声明</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sequenceDiagram</span><br><span class="line">  Alice -&gt;&gt; John: Hello John, how are you?</span><br><span class="line">  activate John</span><br><span class="line">  John --&gt;&gt; Alice: Greate!</span><br><span class="line">  deactivate John</span><br></pre></td></tr></table></figure><pre class="mermaid">sequenceDiagram  Alice ->> John: Hello John, how are you?  activate John  John -->> Alice: Greate!  deactivate John</pre><p>也可以使用在消息箭头后追加+/-的方式来激活去激活对象</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sequenceDiagram</span><br><span class="line">  Alice -&gt;&gt; +John: Hello John, how are you?</span><br><span class="line">  John --&gt; -Alice: Greate!</span><br></pre></td></tr></table></figure><pre class="mermaid">sequenceDiagram  Alice ->> +John: Hello John, how are you?  John --> -Alice: Greate!</pre><p>激活去激活在同一个Actor上可以叠加的</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sequenceDiagram</span><br><span class="line">  Alice -&gt;&gt; +John: Hello John, how are you?</span><br><span class="line">  Alice -&gt;&gt; +John: John, can you hear me?</span><br><span class="line">  John --&gt;&gt; -Alice: Hi Alice, I can hear you!</span><br><span class="line">  John --&gt;&gt; -Alice: I feel greate!</span><br></pre></td></tr></table></figure><pre class="mermaid">sequenceDiagram  Alice ->> +John: Hello John, how are you?  Alice ->> +John: John, can you hear me?  John -->> -Alice: Hi Alice, I can hear you!  John -->> -Alice: I feel greate!</pre><h1 id="Class-diagrams"><a href="#Class-diagrams" class="headerlink" title="Class diagrams"></a>Class diagrams</h1><blockquote><p>|”In software engineering, a class diagram in the Unified Modeling Language (UML) is a type of static structure diagram that describes the structure of a system by showing the system’s classes, their attributes, operations (or methods), and the relationships among objects.” Wikipedia</p></blockquote><p>The class diagram is the main building block of object-oriented modeling. It is used for general conceptual modeling of the structure of the application, and for detailed modeling translating the models into programming code. Class diagrams can also be used for data modeling. The classes in a class diagram represent both the main elements, interactions in the application, and the classes to be programmed.</p><pre class="mermaid">classDiagram      Animal <|-- Duck      Animal <|-- Fish      Animal <|-- Zebra      Animal : +int age      Animal : +String gender      Animal: +isMammal()      Animal: +mate()      class Duck{          +String beakColor          +swim()          +quack()      }      class Fish{          -int sizeInFeet          -canEat()      }      class Zebra{          +bool is_wild          +run()      }</pre><h1 id="State-diagrams"><a href="#State-diagrams" class="headerlink" title="State diagrams"></a>State diagrams</h1><blockquote><p>|”A state diagram is a type of diagram used in computer science and related fields to describe the behavior of systems. State diagrams require that the system described is composed of a finite number of states; sometimes, this is indeed the case, while at other times this is a reasonable abstraction.” Wikipedia</p></blockquote><p>Mermaid can render state diagrams. The syntax tries to be compliant with the syntax used in plantUml as this will make it easier for users to share diagrams between mermaid and plantUml.</p><pre class="mermaid">stateDiagram    [*] --> Still    Still --> [*]    Still --> Moving    Moving --> Still    Moving --> Crash    Crash --> [*]</pre><h1 id="gantt甘特图"><a href="#gantt甘特图" class="headerlink" title="gantt甘特图"></a>gantt甘特图</h1><p>基本语法：</p><ul><li>使用 mermaid 解析语言，在开头使用关键字 gantt 指明</li><li>deteFormat 格式：指明日期的显示格式</li><li>title 标题：设置图标的标题</li><li>section 描述：定义纵向上的一个环节</li><li>定义步骤：每个步骤有两种状态 done（已完成）/ active（执行中） <ul><li>描述: 状态,id,开始日期,结束日期/持续时间</li><li>描述: 状态[,id],after id2,持续时间</li><li>crit ：可用于标记该步骤需要被修正，将高亮显示</li><li>如果不指定具体的开始时间或在某个步骤之后，将默认依次顺序排列</li></ul></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">gantt</span><br><span class="line">　　　dateFormat　YYYY-MM-DD</span><br><span class="line">　　　title Adding GANTT diagram functionality to mermaid</span><br><span class="line">　　　section A section</span><br><span class="line">　　　Completed task:done, des1, 2014-01-06,2014-01-08</span><br><span class="line">　　　Active task   :active, des2, 2014-01-09, 3d</span><br><span class="line">　　　future task   :        des3, after des2, 5d</span><br><span class="line">　　　future task2  :        des4, after des3, 5d</span><br><span class="line">　　　section Critical tasks</span><br><span class="line">　　　Completed task in the critical line :crit, done, 2014-01-06,24h</span><br><span class="line">　　　Implement parser and json           :crit, done, after des1, 2d</span><br><span class="line">　　　Create tests for parser             :crit, active, 3d</span><br><span class="line">　　　Future task in critical line        :crit, 5d</span><br><span class="line">　　　Create tests for renderer           :2d</span><br><span class="line">　　　Add to ,mermaid                     :1d</span><br></pre></td></tr></table></figure><pre class="mermaid">gantt　　　dateFormat　YYYY-MM-DD　　　title Adding GANTT diagram functionality to mermaid　　　section A section　　　Completed task:done, des1, 2014-01-06,2014-01-08　　　Active task   :active, des2, 2014-01-09, 3d　　　future task   :　　　  des3, after des2, 5d　　　future task2  :　　　  des4, after des3, 5d　　　section Critical tasks　　　Completed task in the critical line :crit, done, 2014-01-06,24h　　　Implement parser and json           :crit, done, after des1, 2d　　　Create tests for parser             :crit, active, 3d　　　Future task in critical line        :crit, 5d　　　Create tests for renderer           :2d　　　Add to ,mermaid                     :1d</pre><p>关键字说明：</p><table><thead><tr><th align="left">关键字</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">title</td><td align="left">标题</td></tr><tr><td align="left">dateFormat</td><td align="left">日期格式</td></tr><tr><td align="left">section</td><td align="left">模块</td></tr><tr><td align="left">Completed</td><td align="left">已经完成</td></tr><tr><td align="left">Active</td><td align="left">当前正在进行</td></tr><tr><td align="left">Future</td><td align="left">后续待处理</td></tr><tr><td align="left">crit</td><td align="left">关键阶段</td></tr></tbody></table><h1 id="饼图"><a href="#饼图" class="headerlink" title="饼图"></a>饼图</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">pie</span><br><span class="line">    title Key elements in Product X</span><br><span class="line">    &quot;Calcium&quot; : 42.96</span><br><span class="line">    &quot;Potassium&quot; : 50.05</span><br><span class="line">    &quot;Magnesium&quot; : 10.01</span><br><span class="line">    &quot;Iron&quot; :  5</span><br></pre></td></tr></table></figure><pre class="mermaid">pie    title Key elements in Product X    "Calcium" : 42.96    "Potassium" : 50.05    "Magnesium" : 10.01    "Iron" :  5</pre><h1 id="流程图-1"><a href="#流程图-1" class="headerlink" title="流程图"></a>流程图</h1><h2 id="标准流程图"><a href="#标准流程图" class="headerlink" title="标准流程图"></a>标准流程图</h2><p>节点类型</p><table><thead><tr><th align="left">节点</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">start</td><td align="left">流程开始，以圆角矩形绘制</td></tr><tr><td align="left">opearation</td><td align="left">操作，以直角矩形绘制</td></tr><tr><td align="left">condition</td><td align="left">条件判断，以菱形绘制</td></tr><tr><td align="left">subroutine</td><td align="left">子流程，以左右带空白框的矩形绘制</td></tr><tr><td align="left">parallel</td><td align="left">多输出操作（矩形）</td></tr><tr><td align="left">inputoutput</td><td align="left">输入输出，以平行四边形绘制</td></tr><tr><td align="left">end</td><td align="left">流程结束，以圆角矩形绘制</td></tr></tbody></table><h3 id="基本语法："><a href="#基本语法：" class="headerlink" title="基本语法："></a>基本语法：</h3><p>节点定义 </p><ul><li>“描述”的前面必须有空格，“=&gt;” 两端不能有空格</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id&#x3D;&gt;关键字: 描述</span><br></pre></td></tr></table></figure><p>节点间的流向：</p><ul><li><p><code>模块1 id-&gt;模块2 id</code> ：一般的箭头指向</p></li><li><p><code>条件模块id (描述)-&gt;模块id(direction)</code> ：条件模块跳转到对应的执行模块，并指定对应分支的布局方向</p></li><li><p><code>变量名1-&gt;变量名2-&gt;...-&gt;变量名n</code></p></li></ul><p>连线样式</p><ul><li>设置变量m和变量n之间连线的样式，具体样式由变量n后面key-value控制，需要两个变量之间有直接连线。语法中的连接符为（@&gt;）。</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">变量名m@&gt;变量名n(&#123;&quot;key&quot;:&quot;value&quot;&#125;)</span><br></pre></td></tr></table></figure><ul><li>key、value<ul><li>yes/true：condition类型变量连接时，用于分别表示yes条件的流向</li><li>no/false：同上，表示否定条件的流向</li><li>left/right：表示连线出口在节点位置（默认下面是出口，如op3），可以跟condition变量一起用：cond(yes,right)</li><li>path1/path2/path3：parallel变量的三个出口路径（默认下面是出口）</li></ul></li></ul><p>节点状态</p><ul><li>为节点设置不同的状态，可以通过不同的颜色显示，其中状态包括下面6个，含义如英文所示，不过CSDN中好像目前还不支持：<ul><li>past</li><li>current</li><li>future</li><li>approved</li><li>rejected</li><li>invalid</li></ul></li></ul><p>示例：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">flowchat</span><br><span class="line">st&#x3D;&gt;start: 开始</span><br><span class="line">ipt&#x3D;&gt;inputoutput: 输入一个x</span><br><span class="line">op&#x3D;&gt;operation: 处理加工x+1</span><br><span class="line">cond&#x3D;&gt;condition: 溢出（是或否？）</span><br><span class="line">sub&#x3D;&gt;subroutine: 子流程</span><br><span class="line">io&#x3D;&gt;inputoutput: 输出x</span><br><span class="line">ed&#x3D;&gt;end: 结束</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">flowchat</span><br><span class="line">st&#x3D;&gt;start: 开始</span><br><span class="line">ipt&#x3D;&gt;inputoutput: 输入一个x</span><br><span class="line">op&#x3D;&gt;operation: 处理加工x+1</span><br><span class="line">cond&#x3D;&gt;condition: 溢出（是或否？）</span><br><span class="line">sub&#x3D;&gt;subroutine: 子流程</span><br><span class="line">io&#x3D;&gt;inputoutput: 输出x</span><br><span class="line">ed&#x3D;&gt;end: 结束</span><br></pre></td></tr></table></figure><h1 id="UML流程图"><a href="#UML流程图" class="headerlink" title="UML流程图"></a>UML流程图</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">...flow</span><br><span class="line">st&#x3D;&gt;start: Start|past:&gt;http:&#x2F;&#x2F;www.google.com[blank]</span><br><span class="line">e&#x3D;&gt;end: End:&gt;http:&#x2F;&#x2F;www.google.com</span><br><span class="line">op1&#x3D;&gt;operation: My Operation|past</span><br><span class="line">op2&#x3D;&gt;operation: Stuff|current</span><br><span class="line">sub1&#x3D;&gt;subroutine: My Subroutine|invalid</span><br><span class="line">cond&#x3D;&gt;condition: Yes or No?|approved:&gt;http:&#x2F;&#x2F;www.baidu.com</span><br><span class="line">c2&#x3D;&gt;condition: Good idea|rejected</span><br><span class="line">io&#x3D;&gt;inputoutput: catch something...|request</span><br><span class="line"></span><br><span class="line">st-&gt;op1(right)-&gt;cond</span><br><span class="line">cond(yes, right)-&gt;c2</span><br><span class="line">cond(no)-&gt;sub1(left)-&gt;op1</span><br><span class="line">c2(yes)-&gt;io-&gt;e</span><br><span class="line">c2(no)-&gt;op2-&gt;e</span><br></pre></td></tr></table></figure><div id="flowchart-0" class="flow-chart"></div><p>未完待续… …<script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.2.7/raphael.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/flowchart/1.6.5/flowchart.min.js"></script><textarea id="flowchart-0-code" style="display: none">st=>start: Start|past:>http://www.google.com[blank]e=>end: End:>http://www.google.comop1=>operation: My Operation|pastop2=>operation: Stuff|currentsub1=>subroutine: My Subroutine|invalidcond=>condition: Yes or No?|approved:>http://www.baidu.comc2=>condition: Good idea|rejectedio=>inputoutput: catch something...|requestst->op1(right)->condcond(yes, right)->c2cond(no)->sub1(left)->op1c2(yes)->io->ec2(no)->op2->e</textarea><textarea id="flowchart-0-options" style="display: none">{"theme":"simple","scale":1,"line-width":2,"line-length":50,"text-margin":10,"font-size":12}</textarea><script>  var code = document.getElementById("flowchart-0-code").value;  var options = JSON.parse(decodeURIComponent(document.getElementById("flowchart-0-options").value));  var diagram = flowchart.parse(code);  diagram.drawSVG("flowchart-0", options);</script><script src="https://cdnjs.cloudflare.com/ajax/libs/webfont/1.6.27/webfontloader.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/snap.svg/0.4.1/snap.svg-min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/js-sequence-diagrams/1.0.6/sequence-diagram-min.js"></script><textarea id="sequence-0-code" style="display: none">Title:时序图示例客户端->服务端: 我想找你拿下数据 SYN服务端-->客户端: 我收到你的请求啦 ACK+SYN客户端->>服务端: 我收到你的确认啦，我们开始通信吧 ACKNote right of 服务端: 我是一个服务端Note left of 客户端: 我是一个客户端Note over 服务端,客户端: TCP 三次握手participant 观察者</textarea><textarea id="sequence-0-options" style="display: none">{"theme":"simple","scale":1,"line-width":2,"line-length":50,"text-margin":10,"font-size":12}</textarea><script>  var code = document.getElementById("sequence-0-code").value;  var options = JSON.parse(decodeURIComponent(document.getElementById("sequence-0-options").value));  var diagram = Diagram.parse(code);  diagram.drawSVG("sequence-0", options);</script></p>]]></content>
      
      
      <categories>
          
          <category> markdown </category>
          
      </categories>
      
      
        <tags>
            
            <tag> markdown </tag>
            
            <tag> mermaid </tag>
            
            <tag> sequence </tag>
            
            <tag> flowchat </tag>
            
            <tag> 图表 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo 写作</title>
      <link href="/blog/2020/03/11/hexo-Writing/"/>
      <url>/blog/2020/03/11/hexo-Writing/</url>
      
        <content type="html"><![CDATA[<p>hexo 写作</p><a id="more"></a><h1 id="hexo-写作"><a href="#hexo-写作" class="headerlink" title="hexo 写作"></a>hexo 写作</h1><h2 id="page"><a href="#page" class="headerlink" title="page"></a>page</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">&#123;&#123;</span> <span class="string">title</span> <span class="string">&#125;&#125;</span></span><br><span class="line"><span class="attr">date:</span> <span class="string">&#123;&#123;</span> <span class="string">date</span> <span class="string">&#125;&#125;</span></span><br><span class="line"><span class="attr">comments:</span> <span class="literal">false</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new page about</span><br><span class="line">$ hexo new page tags</span><br><span class="line">$ hexo new page categories</span><br><span class="line">$ hexo new page archives</span><br></pre></td></tr></table></figure><h2 id="post"><a href="#post" class="headerlink" title="post"></a>post</h2><p><strong>post.md</strong></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">&#123;&#123;</span> <span class="string">title</span> <span class="string">&#125;&#125;</span></span><br><span class="line"><span class="attr">urlname:</span></span><br><span class="line"><span class="attr">date:</span> <span class="string">&#123;&#123;</span> <span class="string">date</span> <span class="string">&#125;&#125;</span></span><br><span class="line"><span class="attr">categories:</span></span><br><span class="line"><span class="attr">tags:</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo 配置 主题 next 配置</title>
      <link href="/blog/2020/03/11/hexo-Configuration-theme-next/"/>
      <url>/blog/2020/03/11/hexo-Configuration-theme-next/</url>
      
        <content type="html"><![CDATA[<p>hexo 配置 主题 next 配置</p><a id="more"></a><blockquote><p>参考：<a href="https://theme-next.org/" target="_blank" rel="noopener">https://theme-next.org/</a></p></blockquote><h1 id="hexo-主题-next-配置"><a href="#hexo-主题-next-配置" class="headerlink" title="hexo 主题 next 配置"></a>hexo 主题 next 配置</h1><p>自定义值</p><h2 id="Site-Information-Settings"><a href="#Site-Information-Settings" class="headerlink" title="Site Information Settings"></a>Site Information Settings</h2><blockquote><p>See: <a href="https://theme-next.org/docs/getting-started/" target="_blank" rel="noopener">https://theme-next.org/docs/getting-started/</a></p></blockquote><p><strong>favicon</strong></p><p><strong>footer</strong></p><table><thead><tr><th align="left">属性</th><th align="left">默认值</th><th align="left">自定义值</th><th align="left">描述</th></tr></thead><tbody><tr><td align="left">footer.icon.name</td><td align="left">user</td><td align="left">heart</td><td align="left"></td></tr><tr><td align="left">footer.icon.color</td><td align="left">#808080</td><td align="left">#ff0000</td><td align="left"></td></tr><tr><td align="left">footer.powered.enable</td><td align="left">true</td><td align="left">false</td><td align="left">Hexo link (Powered by Hexo)</td></tr><tr><td align="left">footer.theme.enable</td><td align="left">true</td><td align="left">false</td><td align="left">Theme &amp; scheme info link (Theme - NexT.scheme)</td></tr></tbody></table><p><strong>creative_commons</strong></p><table><thead><tr><th align="left">属性</th><th align="left">默认值</th><th align="left">自定义值</th><th align="left">描述</th></tr></thead><tbody><tr><td align="left">creative_commons.sidebar</td><td align="left">false</td><td align="left">true</td><td align="left"></td></tr><tr><td align="left">creative_commons.post</td><td align="left">false</td><td align="left">true</td><td align="left"></td></tr></tbody></table><h2 id="Scheme-Settings"><a href="#Scheme-Settings" class="headerlink" title="Scheme Settings"></a>Scheme Settings</h2><table><thead><tr><th align="left">属性</th><th align="left">默认值</th><th align="left">自定义值</th><th align="left">描述</th></tr></thead><tbody><tr><td align="left">scheme</td><td align="left">Muse</td><td align="left">Gemini</td><td align="left"></td></tr><tr><td align="left">darkmode</td><td align="left">false</td><td align="left">true</td><td align="left">Dark Mode</td></tr></tbody></table><h2 id="Menu-Settings"><a href="#Menu-Settings" class="headerlink" title="Menu Settings"></a>Menu Settings</h2><table><thead><tr><th align="left">属性</th><th align="left">默认值</th><th align="left">自定义值</th><th align="left">描述</th></tr></thead><tbody><tr><td align="left">menu.home</td><td align="left">启用</td><td align="left"></td><td align="left"></td></tr><tr><td align="left">menu.about</td><td align="left"></td><td align="left">启用</td><td align="left"></td></tr><tr><td align="left">menu.tags</td><td align="left"></td><td align="left">启用</td><td align="left"></td></tr><tr><td align="left">menu.categories</td><td align="left"></td><td align="left">启用</td><td align="left"></td></tr><tr><td align="left">menu.archives</td><td align="left">启用</td><td align="left"></td><td align="left"></td></tr><tr><td align="left">menu_settings.icons</td><td align="left">true</td><td align="left"></td><td align="left"></td></tr><tr><td align="left">menu_settings.badges</td><td align="left">false</td><td align="left">true</td><td align="left"></td></tr></tbody></table><h2 id="Sidebar-Settings"><a href="#Sidebar-Settings" class="headerlink" title="Sidebar Settings"></a>Sidebar Settings</h2><blockquote><p>see: <a href="https://theme-next.org/docs/theme-settings/sidebar" target="_blank" rel="noopener">https://theme-next.org/docs/theme-settings/sidebar</a></p></blockquote><table><thead><tr><th align="left">属性</th><th align="left">默认值</th><th align="left">自定义值</th><th align="left">描述</th></tr></thead><tbody><tr><td align="left">avatar.url</td><td align="left"></td><td align="left">/images/Tiger.jpg</td><td align="left"></td></tr><tr><td align="left">avatar.rounded</td><td align="left">false</td><td align="left">true</td><td align="left"></td></tr></tbody></table><h2 id="Post-Settings"><a href="#Post-Settings" class="headerlink" title="Post Settings"></a>Post Settings</h2><blockquote><p>See: <a href="https://theme-next.org/docs/theme-settings/posts" target="_blank" rel="noopener">https://theme-next.org/docs/theme-settings/posts</a></p></blockquote><h2 id="Custom-Page-Settings"><a href="#Custom-Page-Settings" class="headerlink" title="Custom Page Settings"></a>Custom Page Settings</h2><blockquote><p>See: <a href="https://theme-next.org/docs/theme-settings/custom-pages" target="_blank" rel="noopener">https://theme-next.org/docs/theme-settings/custom-pages</a></p></blockquote><h2 id="Misc-Theme-Settings"><a href="#Misc-Theme-Settings" class="headerlink" title="Misc Theme Settings"></a>Misc Theme Settings</h2><p><strong>github_banner</strong></p><table><thead><tr><th align="left">属性</th><th align="left">默认值</th><th align="left">自定义值</th><th align="left">描述</th></tr></thead><tbody><tr><td align="left">github_banner.enable</td><td align="left">false</td><td align="left">true</td><td align="left"></td></tr><tr><td align="left">github_banner.permalink</td><td align="left"><a href="https://github.com/yourname" target="_blank" rel="noopener">https://github.com/yourname</a></td><td align="left"><a href="https://github.com/909986101" target="_blank" rel="noopener">https://github.com/909986101</a></td><td align="left"></td></tr></tbody></table><h2 id="Font-Settings"><a href="#Font-Settings" class="headerlink" title="Font Settings"></a>Font Settings</h2><blockquote><p>See: <a href="https://theme-next.org/docs/theme-settings/#Fonts-Customization" target="_blank" rel="noopener">https://theme-next.org/docs/theme-settings/#Fonts-Customization</a></p></blockquote><h2 id="SEO-Settings"><a href="#SEO-Settings" class="headerlink" title="SEO Settings"></a>SEO Settings</h2><h2 id="Third-Party-Plugins-amp-Services-Settings"><a href="#Third-Party-Plugins-amp-Services-Settings" class="headerlink" title="Third Party Plugins &amp; Services Settings"></a>Third Party Plugins &amp; Services Settings</h2><blockquote><p>See: <a href="https://theme-next.org/docs/third-party-services/" target="_blank" rel="noopener">https://theme-next.org/docs/third-party-services/</a></p></blockquote><h2 id="Comments-Settings"><a href="#Comments-Settings" class="headerlink" title="Comments Settings"></a>Comments Settings</h2><blockquote><p>See: <a href="https://theme-next.org/docs/third-party-services/comments" target="_blank" rel="noopener">https://theme-next.org/docs/third-party-services/comments</a></p></blockquote><p><strong>Valine</strong></p><table><thead><tr><th align="left">属性</th><th align="left">默认值</th><th align="left">自定义值</th><th align="left">描述</th></tr></thead><tbody><tr><td align="left">Valine.enable</td><td align="left">false</td><td align="left">true</td><td align="left"></td></tr><tr><td align="left">Valine.appid</td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left">Valine.appkey</td><td align="left"></td><td align="left"></td><td align="left"></td></tr></tbody></table><h2 id="Post-Widgets-amp-Content-Sharing-Services"><a href="#Post-Widgets-amp-Content-Sharing-Services" class="headerlink" title="Post Widgets &amp; Content Sharing Services"></a>Post Widgets &amp; Content Sharing Services</h2><blockquote><p>See: <a href="https://theme-next.org/docs/third-party-services/post-widgets" target="_blank" rel="noopener">https://theme-next.org/docs/third-party-services/post-widgets</a></p></blockquote><h2 id="Statistics-and-Analytics"><a href="#Statistics-and-Analytics" class="headerlink" title="Statistics and Analytics"></a>Statistics and Analytics</h2><blockquote><p>See: <a href="https://theme-next.org/docs/third-party-services/statistics-and-analytics" target="_blank" rel="noopener">https://theme-next.org/docs/third-party-services/statistics-and-analytics</a></p></blockquote><p><strong>busuanzi_count</strong></p><table><thead><tr><th align="left">属性</th><th align="left">默认值</th><th align="left">自定义值</th><th align="left">描述</th></tr></thead><tbody><tr><td align="left">busuanzi_count.enable</td><td align="left">false</td><td align="left">true</td><td align="left">不蒜子</td></tr></tbody></table><h2 id="Search-Services"><a href="#Search-Services" class="headerlink" title="Search Services"></a>Search Services</h2><blockquote><p>See: <a href="https://theme-next.org/docs/third-party-services/search-services" target="_blank" rel="noopener">https://theme-next.org/docs/third-party-services/search-services</a></p></blockquote><p><strong>local_search</strong></p><table><thead><tr><th align="left">属性</th><th align="left">默认值</th><th align="left">自定义值</th><th align="left">描述</th></tr></thead><tbody><tr><td align="left">local_search.enable</td><td align="left">false</td><td align="left">true</td><td align="left">Local Search</td></tr></tbody></table><h2 id="Chat-Services"><a href="#Chat-Services" class="headerlink" title="Chat Services"></a>Chat Services</h2><blockquote><p>See: <a href="https://theme-next.org/docs/third-party-services/chat-services" target="_blank" rel="noopener">https://theme-next.org/docs/third-party-services/chat-services</a></p></blockquote><h2 id="Tags-Settings"><a href="#Tags-Settings" class="headerlink" title="Tags Settings"></a>Tags Settings</h2><blockquote><p>See: <a href="https://theme-next.org/docs/tag-plugins/" target="_blank" rel="noopener">https://theme-next.org/docs/tag-plugins/</a></p></blockquote><p><strong>mermaid Tag</strong></p><table><thead><tr><th align="left">属性</th><th align="left">默认值</th><th align="left">自定义值</th><th align="left">描述</th></tr></thead><tbody><tr><td align="left">mermaid.enable</td><td align="left">false</td><td align="left">true</td><td align="left"></td></tr></tbody></table><h2 id="Animation-Settings"><a href="#Animation-Settings" class="headerlink" title="Animation Settings"></a>Animation Settings</h2>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
          <category> next </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> next </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo 配置 压缩</title>
      <link href="/blog/2020/03/11/hexo-Configuration-tune/"/>
      <url>/blog/2020/03/11/hexo-Configuration-tune/</url>
      
        <content type="html"><![CDATA[<p>hexo 配置 压缩</p><a id="more"></a><h1 id="hexo-优化压缩"><a href="#hexo-优化压缩" class="headerlink" title="hexo 优化压缩"></a>hexo 优化压缩</h1><h2 id="hexo-neat"><a href="#hexo-neat" class="headerlink" title="hexo-neat"></a>hexo-neat</h2><blockquote><p>参考：<a href="https://github.com/rozbo/hexo-neat" target="_blank" rel="noopener">https://github.com/rozbo/hexo-neat</a></p></blockquote><p><strong>安装模块</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-neat --save</span><br></pre></td></tr></table></figure><p><strong>_config.yml</strong></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># hexo-neat</span></span><br><span class="line"><span class="comment"># 博文压缩</span></span><br><span class="line"><span class="attr">neat_enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="comment"># 压缩html</span></span><br><span class="line"><span class="attr">neat_html:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">exclude:</span></span><br><span class="line"><span class="comment"># 压缩css  </span></span><br><span class="line"><span class="attr">neat_css:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">exclude:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">'**/*.min.css'</span></span><br><span class="line"><span class="comment"># 压缩js</span></span><br><span class="line"><span class="attr">neat_js:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">mangle:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">output:</span></span><br><span class="line">  <span class="attr">compress:</span></span><br><span class="line">  <span class="attr">exclude:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">'**/*.min.js'</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">'**/jquery.fancybox.pack.js'</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">'**/index.js'</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo 配置 图表</title>
      <link href="/blog/2020/03/11/hexo-Configuration-graph/"/>
      <url>/blog/2020/03/11/hexo-Configuration-graph/</url>
      
        <content type="html"><![CDATA[<p>hexo 配置 图表</p><a id="more"></a><h1 id="hexo-配置之图表"><a href="#hexo-配置之图表" class="headerlink" title="hexo 配置之图表"></a>hexo 配置之图表</h1><h2 id="mermaid"><a href="#mermaid" class="headerlink" title="mermaid"></a>mermaid</h2><blockquote><p><a href="https://github.com/webappdevelp/hexo-filter-mermaid-diagrams" target="_blank" rel="noopener">https://github.com/webappdevelp/hexo-filter-mermaid-diagrams</a></p></blockquote><p><strong>安装模块</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-filter-mermaid-diagrams --save</span><br></pre></td></tr></table></figure><p><strong>主题 _config.yml</strong></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Mermaid tag</span></span><br><span class="line"><span class="attr">mermaid:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Available themes: default | dark | forest | neutral</span></span><br><span class="line">  <span class="attr">theme:</span> <span class="string">forest</span></span><br></pre></td></tr></table></figure><h2 id="sequence"><a href="#sequence" class="headerlink" title="sequence"></a>sequence</h2><blockquote><p><a href="https://github.com/bubkoo/hexo-filter-sequence" target="_blank" rel="noopener">https://github.com/bubkoo/hexo-filter-sequence</a></p></blockquote><p><strong>安装模块</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install --save hexo-filter-sequence</span><br></pre></td></tr></table></figure><h2 id="flowchart"><a href="#flowchart" class="headerlink" title="flowchart"></a>flowchart</h2><blockquote><p><a href="https://github.com/bubkoo/hexo-filter-flowchart" target="_blank" rel="noopener">https://github.com/bubkoo/hexo-filter-flowchart</a></p></blockquote><p><strong>安装模块</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install --save hexo-filter-flowchart</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo 配置 添加 Live2D 看板娘</title>
      <link href="/blog/2020/03/11/hexo-live2d/"/>
      <url>/blog/2020/03/11/hexo-live2d/</url>
      
        <content type="html"><![CDATA[<p>hexo 配置 添加 Live2D 看板娘</p><a id="more"></a><blockquote><p>参考：<a href="https://github.com/EYHN/hexo-helper-live2d/blob/HEAD/README.zh-CN.md" target="_blank" rel="noopener">https://github.com/EYHN/hexo-helper-live2d/blob/HEAD/README.zh-CN.md</a></p></blockquote><h1 id="hexo-添加-Live2D-看板娘"><a href="#hexo-添加-Live2D-看板娘" class="headerlink" title="hexo 添加 Live2D 看板娘"></a>hexo 添加 Live2D 看板娘</h1><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>安装模块</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install --save hexo-helper-live2d</span><br></pre></td></tr></table></figure><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p>请向Hexo的 _config.yml 文件或主题的 _config.yml 文件中添加配置</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">live2d:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">pluginModelPath:</span> <span class="string">assets/</span></span><br><span class="line">  <span class="attr">model:</span></span><br><span class="line">    <span class="attr">use:</span> <span class="string">live2d-widget-model-epsilon2_1</span>  <span class="comment">#模板目录，在 node_modules 里</span></span><br><span class="line">  <span class="attr">display:</span></span><br><span class="line">    <span class="attr">position:</span> <span class="string">right</span></span><br><span class="line">    <span class="attr">width:</span> <span class="number">150</span> </span><br><span class="line">    <span class="attr">height:</span> <span class="number">300</span></span><br><span class="line">  <span class="attr">mobile:</span></span><br><span class="line">    <span class="attr">show:</span> <span class="literal">false</span>  <span class="comment">#是否在手机进行显示</span></span><br></pre></td></tr></table></figure><p>设置分为helper特有的和公共的, 你需要把他们合并放到 _config.yml 中</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Live2D</span></span><br><span class="line"><span class="comment">## https://github.com/EYHN/hexo-helper-live2d</span></span><br><span class="line"><span class="attr">live2d:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># enable: false</span></span><br><span class="line">  <span class="attr">scriptFrom:</span> <span class="string">local</span> <span class="comment"># 默认</span></span><br><span class="line">  <span class="attr">pluginRootPath:</span> <span class="string">live2dw/</span> <span class="comment"># 插件在站点上的根目录(相对路径)</span></span><br><span class="line">  <span class="attr">pluginJsPath:</span> <span class="string">lib/</span> <span class="comment"># 脚本文件相对与插件根目录路径</span></span><br><span class="line">  <span class="attr">pluginModelPath:</span> <span class="string">assets/</span> <span class="comment"># 模型文件相对与插件根目录路径</span></span><br><span class="line">  <span class="comment"># scriptFrom: jsdelivr # jsdelivr CDN</span></span><br><span class="line">  <span class="comment"># scriptFrom: unpkg # unpkg CDN</span></span><br><span class="line">  <span class="comment"># scriptFrom: https://cdn.jsdelivr.net/npm/live2d-widget@3.x/lib/L2Dwidget.min.js # 你的自定义 url</span></span><br><span class="line">  <span class="attr">tagMode:</span> <span class="literal">false</span> <span class="comment"># 标签模式, 是否仅替换 live2d tag标签而非插入到所有页面中</span></span><br><span class="line">  <span class="attr">debug:</span> <span class="literal">false</span> <span class="comment"># 调试, 是否在控制台输出日志</span></span><br><span class="line">  <span class="attr">model:</span></span><br><span class="line">    <span class="attr">use:</span> <span class="string">live2d-widget-model-wanko</span> <span class="comment"># npm-module package name</span></span><br><span class="line">    <span class="comment"># use: wanko # 博客根目录/live2d_models/ 下的目录名</span></span><br><span class="line">    <span class="comment"># use: ./wives/wanko # 相对于博客根目录的路径</span></span><br><span class="line">    <span class="comment"># use: https://cdn.jsdelivr.net/npm/live2d-widget-model-wanko@1.0.5/assets/wanko.model.json # 你的自定义 url</span></span><br></pre></td></tr></table></figure><h2 id="模型"><a href="#模型" class="headerlink" title="模型"></a>模型</h2><p>安装模型</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ npm install live2d-widget-model-epsilon2_1</span><br><span class="line"><span class="comment">## 一个夏装妹子, 比较适合宅男</span></span><br></pre></td></tr></table></figure><h1 id="进阶：能说话、能换装"><a href="#进阶：能说话、能换装" class="headerlink" title="进阶：能说话、能换装"></a>进阶：能说话、能换装</h1><blockquote><p><a href="https://blog.csdn.net/qq_39610915/article/details/90679768" target="_blank" rel="noopener">https://blog.csdn.net/qq_39610915/article/details/90679768</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
          <category> live2d </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> live2d </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo 配置</title>
      <link href="/blog/2020/03/11/hexo-Configuration/"/>
      <url>/blog/2020/03/11/hexo-Configuration/</url>
      
        <content type="html"><![CDATA[<p>hexo 配置</p><a id="more"></a><blockquote><p>参考：<a href="https://hexo.io/zh-cn/docs/configuration" target="_blank" rel="noopener">https://hexo.io/zh-cn/docs/configuration</a></p></blockquote><h1 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h1><p>您可以在 _config.yml 中修改大部分的配置。</p><h1 id="网站-site"><a href="#网站-site" class="headerlink" title="网站 site"></a>网站 site</h1><table><thead><tr><th align="left">参数</th><th align="left">描述</th><th align="left">自定义值</th></tr></thead><tbody><tr><td align="left">title</td><td align="left">网站标题</td><td align="left">haona_li’s Blog</td></tr><tr><td align="left">subtitle</td><td align="left">网站副标题</td><td align="left">书山有路勤为径，学海无涯苦作舟</td></tr><tr><td align="left">description</td><td align="left">网站描述</td><td align="left">百川东到海，何时复西归</td></tr><tr><td align="left">keywords</td><td align="left">网站的关键词。使用半角逗号,分隔多个关键词。</td><td align="left"></td></tr><tr><td align="left">author</td><td align="left">您的名字</td><td align="left">haona_li</td></tr><tr><td align="left">language</td><td align="left">网站使用的语言。详见 <code>themes\next\languages</code> 文件夹中 .yml 文件名</td><td align="left">zh-CN</td></tr><tr><td align="left">timezone</td><td align="left">网站时区。Hexo 默认使用您电脑的时区。<br>请参考 时区列表 进行设置，如 America/New_York、 Japan 和 UTC。<br>一般的，对于中国大陆地区可以使用 Asia/Shanghai。</td><td align="left">Asia/Shanghai</td></tr></tbody></table><p>其中，description主要用于SEO，告诉搜索引擎一个关于您站点的简单描述，通常建议在其中包含您网站的关键词。author参数用于主题显示文章的作者。</p><h1 id="网址-url"><a href="#网址-url" class="headerlink" title="网址 url"></a>网址 url</h1><table><thead><tr><th align="left">参数</th><th align="left">描述</th><th align="left">默认值</th><th align="left">自定义值</th></tr></thead><tbody><tr><td align="left">url</td><td align="left">网址</td><td align="left"></td><td align="left"><a href="https://blog.ilxy.tech" target="_blank" rel="noopener">https://blog.ilxy.tech</a></td></tr><tr><td align="left">root</td><td align="left">网站根目录</td><td align="left">/</td><td align="left"></td></tr><tr><td align="left">permalink</td><td align="left">文章的 <em>永久链接</em> 格式</td><td align="left">:year/:month/:day/:title/</td><td align="left"></td></tr><tr><td align="left">permalink_defaults</td><td align="left">永久链接中各部分的默认值</td><td align="left"></td><td align="left"></td></tr><tr><td align="left">pretty_urls</td><td align="left">改写 <em>permalink</em> 的值来美化 URL</td><td align="left"></td><td align="left"></td></tr><tr><td align="left">pretty_urls.trailing_index</td><td align="left">是否在永久链接中保留尾部的 index.html，设置为 false 时去除</td><td align="left">true</td><td align="left"></td></tr><tr><td align="left">pretty_urls.trailing_html</td><td align="left">是否在永久链接中保留尾部的 .html, 设置为 false 时去除 (对尾部的 index.html无效)</td><td align="left">true</td><td align="left"></td></tr></tbody></table><h1 id="目录-Directory"><a href="#目录-Directory" class="headerlink" title="目录 Directory"></a>目录 Directory</h1><table><thead><tr><th align="left">参数</th><th align="left">描述</th><th align="left">默认值</th></tr></thead><tbody><tr><td align="left">source_dir</td><td align="left">资源文件夹，这个文件夹用来存放内容。</td><td align="left">source</td></tr><tr><td align="left">public_dir</td><td align="left">公共文件夹，这个文件夹用于存放生成的站点文件。</td><td align="left">public</td></tr><tr><td align="left">tag_dir</td><td align="left">标签文件夹</td><td align="left">tags</td></tr><tr><td align="left">archive_dir</td><td align="left">归档文件夹</td><td align="left">archives</td></tr><tr><td align="left">category_dir</td><td align="left">分类文件夹</td><td align="left">categories</td></tr><tr><td align="left">code_dir</td><td align="left">Include code 文件夹，source_dir 下的子目录</td><td align="left">downloads/code</td></tr><tr><td align="left">i18n_dir</td><td align="left">国际化（i18n）文件夹</td><td align="left">:lang</td></tr><tr><td align="left">skip_render</td><td align="left">跳过指定文件的渲染。<br>匹配到的文件将会被不做改动地复制到 public 目录中。<br>您可使用 glob 表达式来匹配路径。</td><td align="left"></td></tr></tbody></table><h1 id="文章-Writing"><a href="#文章-Writing" class="headerlink" title="文章 Writing"></a>文章 Writing</h1><table><thead><tr><th align="left">参数</th><th align="left">描述</th><th align="left">默认值</th></tr></thead><tbody><tr><td align="left">new_post_name</td><td align="left">新文章的文件名称</td><td align="left">:title.md</td></tr><tr><td align="left">default_layout</td><td align="left">预设布局</td><td align="left">post</td></tr><tr><td align="left">auto_spacing</td><td align="left">在中文和英文之间加入空格</td><td align="left">false</td></tr><tr><td align="left">titlecase</td><td align="left">把标题转换为 title case</td><td align="left">false</td></tr><tr><td align="left">external_link</td><td align="left">在新标签中打开链接</td><td align="left">true</td></tr><tr><td align="left">external_link.enable</td><td align="left">在新标签中打开链接</td><td align="left">true</td></tr><tr><td align="left">external_link.field</td><td align="left">对整个网站（site）生效或仅对文章（post）生效</td><td align="left">site</td></tr><tr><td align="left">external_link.exclude</td><td align="left">需要排除的域名。主域名和子域名如 www 需分别配置</td><td align="left">[]</td></tr><tr><td align="left">filename_case</td><td align="left">把文件名称转换为 (1) 小写或 (2) 大写</td><td align="left">0</td></tr><tr><td align="left">render_drafts</td><td align="left">显示草稿</td><td align="left">false</td></tr><tr><td align="left">post_asset_folder</td><td align="left">启动 Asset 文件夹</td><td align="left">false</td></tr><tr><td align="left">relative_link</td><td align="left">把链接改为与根目录的相对位址</td><td align="left">false</td></tr><tr><td align="left">future</td><td align="left">显示未来的文章</td><td align="left">true</td></tr><tr><td align="left">highlight</td><td align="left">代码块的设置</td><td align="left"></td></tr><tr><td align="left">highlight.enable</td><td align="left">开启代码块高亮</td><td align="left">true</td></tr><tr><td align="left">highlight.auto_detect</td><td align="left">如果未指定语言，则启用自动检测</td><td align="left">false</td></tr><tr><td align="left">highlight.line_number</td><td align="left">显示行数<br>Enabling this option will also enable wrap option</td><td align="left">true</td></tr><tr><td align="left">highlight.tab_replace</td><td align="left">用 n 个空格替换 tabs；如果值为空，则不会替换 tabs</td><td align="left">‘’</td></tr><tr><td align="left">highlight.wrap</td><td align="left">Wrap the code block in &lt;table&gt;</td><td align="left">true</td></tr><tr><td align="left">highlight.hljs</td><td align="left">Use the hljs-* prefix for CSS classes</td><td align="left">false</td></tr></tbody></table><h1 id="主页设置-Home-page-setting"><a href="#主页设置-Home-page-setting" class="headerlink" title="主页设置 Home page setting"></a>主页设置 Home page setting</h1><table><thead><tr><th align="left">参数</th><th align="left">描述</th><th align="left">默认值</th></tr></thead><tbody><tr><td align="left">index_generator</td><td align="left"></td><td align="left"></td></tr><tr><td align="left">path</td><td align="left">Root path for your blogs index page.</td><td align="left">‘’</td></tr><tr><td align="left">per_page</td><td align="left">Posts displayed per page. (0 = disable pagination)</td><td align="left">10</td></tr><tr><td align="left">order_by</td><td align="left">Posts order. (Order by date descending by default)</td><td align="left">-date</td></tr></tbody></table><h1 id="分类-amp-标签-Category-amp-Tag"><a href="#分类-amp-标签-Category-amp-Tag" class="headerlink" title="分类 &amp; 标签 Category &amp; Tag"></a>分类 &amp; 标签 Category &amp; Tag</h1><table><thead><tr><th align="left">参数</th><th align="left">描述</th><th align="left">默认值</th></tr></thead><tbody><tr><td align="left">default_category</td><td align="left">默认分类</td><td align="left">uncategorized</td></tr><tr><td align="left">category_map</td><td align="left">分类别名</td><td align="left"></td></tr><tr><td align="left">tag_map</td><td align="left">标签别名</td><td align="left"></td></tr></tbody></table><h1 id="Metadata-elements"><a href="#Metadata-elements" class="headerlink" title="Metadata elements"></a>Metadata elements</h1><p><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta</a></p><table><thead><tr><th align="left">参数</th><th align="left">描述</th><th align="left">默认值</th></tr></thead><tbody><tr><td align="left">meta_generator</td><td align="left">Meta generator 标签。值为 false 时 Hexo 不会在头部插入该标签</td><td align="left">true</td></tr></tbody></table><h1 id="日期-时间格式-Date-Time-format"><a href="#日期-时间格式-Date-Time-format" class="headerlink" title="日期 / 时间格式 Date / Time format"></a>日期 / 时间格式 Date / Time format</h1><p>Hexo 使用 Moment.js 来解析和显示时间。</p><table><thead><tr><th align="left">参数</th><th align="left">描述</th><th align="left">默认值</th></tr></thead><tbody><tr><td align="left">date_format</td><td align="left">日期格式</td><td align="left">YYYY-MM-DD</td></tr><tr><td align="left">time_format</td><td align="left">时间格式</td><td align="left">HH:mm:ss</td></tr><tr><td align="left">use_date_for_updated</td><td align="left">启用以后，如果 Front Matter 中没有指定 updated，post.updated 将会使用 date 的值而不是文件的创建时间。<br>在 Git 工作流中这个选项会很有用</td><td align="left">true</td></tr></tbody></table><h1 id="分页-Pagination"><a href="#分页-Pagination" class="headerlink" title="分页 Pagination"></a>分页 Pagination</h1><table><thead><tr><th align="left">参数</th><th align="left">描述</th><th align="left">默认值</th></tr></thead><tbody><tr><td align="left">per_page</td><td align="left">每页显示的文章量 (0 = 关闭分页功能)</td><td align="left">10</td></tr><tr><td align="left">pagination_dir</td><td align="left">分页目录</td><td align="left">page</td></tr></tbody></table><h1 id="包括或不包括目录和文件-Include-Exclude-file-s"><a href="#包括或不包括目录和文件-Include-Exclude-file-s" class="headerlink" title="包括或不包括目录和文件 Include / Exclude file(s)"></a>包括或不包括目录和文件 Include / Exclude file(s)</h1><p>在 Hexo 配置文件中，通过设置 include/exclude 可以让 Hexo 进行处理或忽略某些目录和文件夹。你可以使用 glob 表达式 对目录和文件进行匹配。</p><p>include and exclude options only apply to the source/ folder, whereas ignore option applies to all folders.</p><table><thead><tr><th align="left">参数</th><th align="left">描述</th></tr></thead><tbody><tr><td align="left">include</td><td align="left">Hexo 默认会忽略隐藏文件和文件夹（包括名称以下划线和 . 开头的文件和文件夹，Hexo 的 _posts 和 _data 等目录除外）。<br>通过设置此字段将使 Hexo 处理他们并将它们复制到 source 目录下。</td></tr><tr><td align="left">exclude</td><td align="left">Hexo 会忽略这些文件和目录</td></tr><tr><td align="left">ignore</td><td align="left">Ignore files/folders</td></tr></tbody></table><h1 id="扩展-Extensions"><a href="#扩展-Extensions" class="headerlink" title="扩展 Extensions"></a>扩展 Extensions</h1><table><thead><tr><th align="left">参数</th><th align="left">描述</th></tr></thead><tbody><tr><td align="left">theme</td><td align="left">当前主题名称。值为false时禁用主题</td></tr><tr><td align="left">theme_config</td><td align="left">主题的配置文件。在这里放置的配置会覆盖主题目录下的 _config.yml 中的配置</td></tr></tbody></table><h1 id="部署-Deployment"><a href="#部署-Deployment" class="headerlink" title="部署 Deployment"></a>部署 Deployment</h1><table><thead><tr><th align="left">参数</th><th align="left">描述</th><th align="left">自定义值</th></tr></thead><tbody><tr><td align="left">deploy</td><td align="left">部署部分的设置</td><td align="left"></td></tr><tr><td align="left">deploy.type</td><td align="left"></td><td align="left">git</td></tr><tr><td align="left">deploy.repo</td><td align="left"></td><td align="left"><a href="https://github.com/909986101/909986101.github.io" target="_blank" rel="noopener">https://github.com/909986101/909986101.github.io</a></td></tr><tr><td align="left">deploy.branch</td><td align="left"></td><td align="left">master</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo 使用 git 版块控制</title>
      <link href="/blog/2020/03/11/hexo-use-git/"/>
      <url>/blog/2020/03/11/hexo-use-git/</url>
      
        <content type="html"><![CDATA[<p>hexo 使用 git 版块控制</p><a id="more"></a><h1 id="hexo-通过-git-进行版本控制"><a href="#hexo-通过-git-进行版本控制" class="headerlink" title="hexo 通过 git 进行版本控制"></a>hexo 通过 git 进行版本控制</h1><h2 id="初次提交代码"><a href="#初次提交代码" class="headerlink" title="初次提交代码"></a>初次提交代码</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> &lt;blog_folder&gt;</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global user.email <span class="string">"909986101@qq.com"</span></span><br><span class="line">$ git config --global user.name <span class="string">"909986101"</span></span><br><span class="line">$ git config --global credential.helper store</span><br></pre></td></tr></table></figure><p>初始化本地仓库</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git init</span><br></pre></td></tr></table></figure><p>将本地仓库和远程仓库进行关联</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git remote add origin https://github.com/909986101/blog.ilxy.tech</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git add .                                 <span class="comment">## 将本地代码加入暂存区</span></span><br><span class="line">$ git commit -m <span class="string">"-"</span>                         <span class="comment">## 将本地代码加入本地仓库</span></span><br><span class="line">$ git push                                  <span class="comment">## 将本地分支push到远程仓库</span></span><br><span class="line">$ git push --<span class="built_in">set</span>-upstream origin master</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
          <category> git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo 目录结构</title>
      <link href="/blog/2020/03/11/hexo-setup/"/>
      <url>/blog/2020/03/11/hexo-setup/</url>
      
        <content type="html"><![CDATA[<p>hexo 目录结构</p><a id="more"></a><blockquote><p>参考：<a href="https://hexo.io/zh-cn/docs/setup" target="_blank" rel="noopener">https://hexo.io/zh-cn/docs/setup</a></p></blockquote><h1 id="hexo-目录结构"><a href="#hexo-目录结构" class="headerlink" title="hexo 目录结构"></a>hexo 目录结构</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── _config.yml</span><br><span class="line">├── package.json</span><br><span class="line">├── scaffolds</span><br><span class="line">├── source</span><br><span class="line">|   ├── _drafts</span><br><span class="line">|   └── _posts</span><br><span class="line">└── themes</span><br></pre></td></tr></table></figure><h1 id="config-yml"><a href="#config-yml" class="headerlink" title="_config.yml"></a>_config.yml</h1><blockquote><p>详见</p></blockquote><p>网站的 <strong>配置</strong> 信息，您可以在此配置大部分的参数。</p><h1 id="package-json"><a href="#package-json" class="headerlink" title="package.json"></a>package.json</h1><p>应用程序的信息。EJS, Stylus 和 Markdown renderer 已默认安装，您可以自由移除。</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#123;</span></span><br><span class="line">  <span class="attr">"name":</span> <span class="string">"hexo-site"</span><span class="string">,</span></span><br><span class="line">  <span class="attr">"version":</span> <span class="string">"0.0.0"</span><span class="string">,</span></span><br><span class="line">  <span class="attr">"private":</span> <span class="literal">true</span><span class="string">,</span></span><br><span class="line">  <span class="attr">"scripts":</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="attr">"build":</span> <span class="string">"hexo generate"</span><span class="string">,</span></span><br><span class="line">    <span class="attr">"clean":</span> <span class="string">"hexo clean"</span><span class="string">,</span></span><br><span class="line">    <span class="attr">"deploy":</span> <span class="string">"hexo deploy"</span><span class="string">,</span></span><br><span class="line">    <span class="attr">"server":</span> <span class="string">"hexo server"</span></span><br><span class="line">  <span class="string">&#125;,</span></span><br><span class="line">  <span class="attr">"hexo":</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="attr">"version":</span> <span class="string">"4.2.0"</span></span><br><span class="line">  <span class="string">&#125;,</span></span><br><span class="line">  <span class="attr">"dependencies":</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="attr">"hexo":</span> <span class="string">"^4.0.0"</span><span class="string">,</span></span><br><span class="line">    <span class="attr">"hexo-deployer-git":</span> <span class="string">"^2.1.0"</span><span class="string">,</span></span><br><span class="line">    <span class="attr">"hexo-filter-flowchart":</span> <span class="string">"^1.0.4"</span><span class="string">,</span></span><br><span class="line">    <span class="attr">"hexo-filter-mermaid-diagrams":</span> <span class="string">"^1.0.5"</span><span class="string">,</span></span><br><span class="line">    <span class="attr">"hexo-filter-sequence":</span> <span class="string">"^1.0.3"</span><span class="string">,</span></span><br><span class="line">    <span class="attr">"hexo-generator-archive":</span> <span class="string">"^1.0.0"</span><span class="string">,</span></span><br><span class="line">    <span class="attr">"hexo-generator-category":</span> <span class="string">"^1.0.0"</span><span class="string">,</span></span><br><span class="line">    <span class="attr">"hexo-generator-index":</span> <span class="string">"^1.0.0"</span><span class="string">,</span></span><br><span class="line">    <span class="attr">"hexo-generator-search":</span> <span class="string">"^2.4.0"</span><span class="string">,</span></span><br><span class="line">    <span class="attr">"hexo-generator-tag":</span> <span class="string">"^1.0.0"</span><span class="string">,</span></span><br><span class="line">    <span class="attr">"hexo-renderer-ejs":</span> <span class="string">"^1.0.0"</span><span class="string">,</span></span><br><span class="line">    <span class="attr">"hexo-renderer-marked":</span> <span class="string">"^2.0.0"</span><span class="string">,</span></span><br><span class="line">    <span class="attr">"hexo-renderer-stylus":</span> <span class="string">"^1.1.0"</span><span class="string">,</span></span><br><span class="line">    <span class="attr">"hexo-server":</span> <span class="string">"^1.0.0"</span></span><br><span class="line">  <span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure><h1 id="scaffolds"><a href="#scaffolds" class="headerlink" title="scaffolds"></a>scaffolds</h1><blockquote><p>详见 </p></blockquote><p><strong>模版</strong> 文件夹。当您新建文章时，Hexo 会根据 scaffold 来建立文件。</p><p>Hexo 的模板是指在新建的文章文件中默认填充的内容。例如，如果您修改 scaffold/post.md 中的 Front-matter 内容，那么每次新建一篇文章时都会包含这个修改。</p><h1 id="source"><a href="#source" class="headerlink" title="source"></a>source</h1><p>资源文件夹是存放用户资源的地方。除 _posts 文件夹之外，开头命名为 _ (下划线)的文件 / 文件夹和隐藏的文件将会被忽略。Markdown 和 HTML 文件会被解析并放到 public 文件夹，而其他文件会被拷贝过去。</p><h1 id="themes"><a href="#themes" class="headerlink" title="themes"></a>themes</h1><blockquote><p>详见</p></blockquote><p><strong>主题</strong> 文件夹。Hexo 会根据主题来生成静态页面。</p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo 构建</title>
      <link href="/blog/2020/03/11/hexo-getting-started/"/>
      <url>/blog/2020/03/11/hexo-getting-started/</url>
      
        <content type="html"><![CDATA[<p>hexo 构建</p><a id="more"></a><blockquote><p>hexo 官网：<a href="https://hexo.io/" target="_blank" rel="noopener">https://hexo.io/</a></p></blockquote><blockquote><p>hexo 中文文档：<a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="noopener">https://hexo.io/zh-cn/docs/</a></p></blockquote><h1 id="环境搭建"><a href="#环境搭建" class="headerlink" title="环境搭建"></a>环境搭建</h1><h2 id="安装-git"><a href="#安装-git" class="headerlink" title="安装 git"></a>安装 git</h2><ol><li><p>下载：<a href="https://git-scm.com/download/win" target="_blank" rel="noopener">https://git-scm.com/download/win</a></p></li><li><p>安装：step by step</p></li></ol><h2 id="安装-node-js"><a href="#安装-node-js" class="headerlink" title="安装 node.js"></a>安装 node.js</h2><ol><li><p>下载：<a href="https://nodejs.org/en/" target="_blank" rel="noopener">https://nodejs.org/en/</a></p></li><li><p>安装：step by step<br>注意：使用 Node.js 官方安装程序时，请确保勾选 Add to PATH 选项（默认已勾选）</p></li><li><p>验证</p><pre><code>$ npm -v</code></pre><p>如果出现版本号，那说明安装成功了并且环境变量也配置好了</p></li></ol><h2 id="安装-hexo"><a href="#安装-hexo" class="headerlink" title="安装 hexo"></a>安装 hexo</h2><ol><li><p>安装</p><pre><code>$ npm install -g hexo-cli</code></pre></li><li><p>验证</p><pre><code>$ hexo -v</code></pre></li></ol><h1 id="构建"><a href="#构建" class="headerlink" title="构建"></a>构建</h1><h2 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h2><ol><li><p>安装</p><pre><code>$ hexo init blog.ilxy.tech$ cd blog.ilxy.tech$ npm install</code></pre></li></ol><h2 id="安装-next-主题"><a href="#安装-next-主题" class="headerlink" title="安装 next 主题"></a>安装 next 主题</h2><ol><li><p>安装</p><pre><code>$ cd blog.ilxy.tech$ git clone https://github.com/theme-next/hexo-theme-next themes/next</code></pre></li></ol><h2 id="安装插件"><a href="#安装插件" class="headerlink" title="安装插件"></a>安装插件</h2><ol><li><p>安装流程图插件（可选）</p><pre><code>$ cd {blog_folder}$ npm install --save hexo-filter-mermaid-diagrams$ npm install --save hexo-filter-flowchart$ npm install --save hexo-filter-sequence</code></pre></li><li><p>安装本地搜索插件</p><pre><code>$ npm install hexo-generator-search --save</code></pre></li><li><p>安装 git 部署插件</p><pre><code>$ npm install hexo-deployer-git --save</code></pre></li></ol><h1 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h1><p>您可以在 _config.yml 中修改大部分的配置。</p><h2 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h2><ol><li><p>站点配置文件</p><pre><code>...... ............ ......theme: nextdeploy:  type: git  repo: https://github.com/909986101/909986101.github.io.git  branch: master</code></pre></li><li><p>主题配置文件</p><p> 路径：<code>themes/next/_config.yml</code></p></li></ol><h1 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h1><h2 id="本地"><a href="#本地" class="headerlink" title="本地"></a>本地</h2><ol><li><p>代码</p><pre><code>$ cd {blog_folder}$ hexo s</code></pre></li></ol><h2 id="发布"><a href="#发布" class="headerlink" title="发布"></a>发布</h2><ol><li><p>代码</p><pre><code>$ cd {blog_folder}$ hexo clean$ hexo g$ hexo d</code></pre></li></ol>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/blog/2020/03/10/undefined/"/>
      <url>/blog/2020/03/10/undefined/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><a id="more"></a><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
